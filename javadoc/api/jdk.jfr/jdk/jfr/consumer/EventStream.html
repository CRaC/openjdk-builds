<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>EventStream (Java SE 17 &amp; JDK 17 [build 6])</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: jdk.jfr, package: jdk.jfr.consumer, interface: EventStream">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="jdk.jfr.consumer.EventStream interface">
<meta name="keywords" content="openRepository()">
<meta name="keywords" content="openFile()">
<meta name="keywords" content="onMetadata()">
<meta name="keywords" content="onEvent()">
<meta name="keywords" content="onFlush()">
<meta name="keywords" content="onError()">
<meta name="keywords" content="onClose()">
<meta name="keywords" content="close()">
<meta name="keywords" content="remove()">
<meta name="keywords" content="setReuse()">
<meta name="keywords" content="setOrdered()">
<meta name="keywords" content="setStartTime()">
<meta name="keywords" content="setEndTime()">
<meta name="keywords" content="start()">
<meta name="keywords" content="startAsync()">
<meta name="keywords" content="awaitTermination()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="padding: 6px; text-align: center; font-size: 80%; font-family: DejaVu Sans, Arial, Helvetica, sans-serif; font-weight: normal;">This specification is not final and is subject to change. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a>.</div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 9px;"><strong>Java SE 17 &amp; JDK 17</strong> <br><strong>DRAFT 17-crac+6-21</strong></div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/EventStream.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../preview-list.html">Preview</a></li>
<li><a href="../../../../new-list.html">New</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">jdk.jfr</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jdk.jfr.consumer</a></div>
<h1 title="Interface EventStream" class="title">Interface EventStream</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="../../../../java.base/java/lang/AutoCloseable.html" title="interface in java.lang">AutoCloseable</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="RecordingStream.html" title="class in jdk.jfr.consumer">RecordingStream</a></code>, <code><a href="../../../../jdk.management.jfr/jdk/management/jfr/RemoteRecordingStream.html" title="class in jdk.management.jfr">RemoteRecordingStream</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">EventStream</span><span class="extends-implements">
extends <a href="../../../../java.base/java/lang/AutoCloseable.html" title="interface in java.lang">AutoCloseable</a></span></div>
<div class="block">Represents a stream of events.
 <p>
 A stream is a sequence of events and the way to interact with a stream is to
 register actions. The <code>EventStream</code> interface is not to be implemented
 and future versions of the JDK may prevent this completely.
 <p>
 To receive a notification when an event arrives, register an action using the
 <a href="#onEvent(java.util.function.Consumer)"><code>onEvent(Consumer)</code></a> method. To filter the stream for an event with a
 specific name, use <a href="#onEvent(java.lang.String,java.util.function.Consumer)"><code>onEvent(String, Consumer)</code></a> method.
 <p>
 By default, the same <code>RecordedEvent</code> object can be used to
 represent two or more distinct events. That object can be delivered
 multiple times to the same action as well as to other actions. To use an
 event object after the action is completed, the
 <a href="#setReuse(boolean)"><code>setReuse(boolean)</code></a> method should be set to <code>false</code> so a
 new object is allocated for each event.
 <p>
 Events are delivered in batches. To receive a notification when a batch is
 complete, register an action using the <a href="#onFlush(java.lang.Runnable)"><code>onFlush(Runnable)</code></a> method.
 This is an opportunity to aggregate or push data to external systems while
 the Java Virtual Machine (JVM) is preparing the next batch.
 <p>
 Events within a batch are sorted chronologically by their end time.
 Well-ordering of events is only maintained for events available to the JVM at
 the point of flush, i.e. for the set of events delivered as a unit in a
 single batch. Events delivered in a batch could therefore be out-of-order
 compared to events delivered in a previous batch, but never out-of-order with
 events within the same batch. If ordering is not a concern, sorting can be
 disabled using the <a href="#setOrdered(boolean)"><code>setOrdered(boolean)</code></a> method.
 <p>
 To dispatch events to registered actions, the stream must be started. To
 start processing in the current thread, invoke the <a href="#start()"><code>start()</code></a> method.
 To process actions asynchronously in a separate thread, invoke the
 <a href="#startAsync()"><code>startAsync()</code></a> method. To await completion of the stream, use the
 awaitTermination <a href="#awaitTermination()"><code>awaitTermination()</code></a> or the
 <a href="#awaitTermination(java.time.Duration)"><code>awaitTermination(Duration)</code></a> method.
 <p>
 When a stream ends it is automatically closed. To manually stop processing of
 events, close the stream by invoking the <a href="#close()"><code>close()</code></a> method. A stream
 can also be automatically closed in exceptional circumstances, for example if
 the JVM that is being monitored exits. To receive a notification in any of
 these occasions, use the <a href="#onClose(java.lang.Runnable)"><code>onClose(Runnable)</code></a> method to register an
 action.
 <p>
 If an unexpected exception occurs in an action, it is possible to catch the
 exception in an error handler. An error handler can be registered using the
 <a href="#onError(java.util.function.Consumer)"><code>onError(Consumer)</code></a> method. If no error handler is registered, the
 default behavior is to print the exception and its backtrace to the standard
 error stream.
 <p>
 The following example shows how an <code>EventStream</code> can be used to listen
 to events on a JVM running Flight Recorder

 <pre>
 try (var es = EventStream.openRepository()) {
   es.onEvent("jdk.CPULoad", event -&gt; {
     System.out.println("CPU Load " + event.getEndTime());
     System.out.println(" Machine total: " + 100 * event.getFloat("machineTotal") + "%");
     System.out.println(" JVM User: " + 100 * event.getFloat("jvmUser") + "%");
     System.out.println(" JVM System: " + 100 * event.getFloat("jvmSystem") + "%");
     System.out.println();
   });
   es.onEvent("jdk.GarbageCollection", event -&gt; {
     System.out.println("Garbage collection: " + event.getLong("gcId"));
     System.out.println(" Cause: " + event.getString("cause"));
     System.out.println(" Total pause: " + event.getDuration("sumOfPauses"));
     System.out.println(" Longest pause: " + event.getDuration("longestPause"));
     System.out.println();
   });
   es.start();
 }
 </pre>
 <p>
 To start recording together with the stream, see <a href="RecordingStream.html" title="class in jdk.jfr.consumer"><code>RecordingStream</code></a>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>14</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#awaitTermination()" class="member-name-link">awaitTermination</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Blocks until all actions are completed, or the stream is closed, or the
 current thread is interrupted, whichever happens first.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#awaitTermination(java.time.Duration)" class="member-name-link">awaitTermination</a><wbr>(<a href="../../../../java.base/java/time/Duration.html" title="class in java.time">Duration</a>&nbsp;timeout)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Blocks until all actions are completed, or the stream is closed, or the
 timeout occurs, or the current thread is interrupted, whichever happens
 first.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Releases all resources associated with this stream.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onClose(java.lang.Runnable)" class="member-name-link">onClose</a><wbr>(<a href="../../../../java.base/java/lang/Runnable.html" title="interface in java.lang">Runnable</a>&nbsp;action)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Registers an action to perform when the stream is closed.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onError(java.util.function.Consumer)" class="member-name-link">onError</a><wbr>(<a href="../../../../java.base/java/util/function/Consumer.html" title="interface in java.util.function">Consumer</a>&lt;<a href="../../../../java.base/java/lang/Throwable.html" title="class in java.lang">Throwable</a>&gt;&nbsp;action)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Registers an action to perform if an exception occurs.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onEvent(java.lang.String,java.util.function.Consumer)" class="member-name-link">onEvent</a><wbr>(<a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&nbsp;eventName,
 <a href="../../../../java.base/java/util/function/Consumer.html" title="interface in java.util.function">Consumer</a>&lt;<a href="RecordedEvent.html" title="class in jdk.jfr.consumer">RecordedEvent</a>&gt;&nbsp;action)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Registers an action to perform on all events matching a name.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onEvent(java.util.function.Consumer)" class="member-name-link">onEvent</a><wbr>(<a href="../../../../java.base/java/util/function/Consumer.html" title="interface in java.util.function">Consumer</a>&lt;<a href="RecordedEvent.html" title="class in jdk.jfr.consumer">RecordedEvent</a>&gt;&nbsp;action)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Registers an action to perform on all events in the stream.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onFlush(java.lang.Runnable)" class="member-name-link">onFlush</a><wbr>(<a href="../../../../java.base/java/lang/Runnable.html" title="interface in java.lang">Runnable</a>&nbsp;action)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Registers an action to perform after the stream has been flushed.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#onMetadata(java.util.function.Consumer)" class="member-name-link">onMetadata</a><wbr>(<a href="../../../../java.base/java/util/function/Consumer.html" title="interface in java.util.function">Consumer</a>&lt;<a href="MetadataEvent.html" title="class in jdk.jfr.consumer">MetadataEvent</a>&gt;&nbsp;action)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Registers an action to perform when new metadata arrives in the stream.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="EventStream.html" title="interface in jdk.jfr.consumer">EventStream</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#openFile(java.nio.file.Path)" class="member-name-link">openFile</a><wbr>(<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;file)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Creates an event stream from a file.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="EventStream.html" title="interface in jdk.jfr.consumer">EventStream</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#openRepository()" class="member-name-link">openRepository</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Creates a stream from the repository of the current Java Virtual Machine
 (JVM).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="EventStream.html" title="interface in jdk.jfr.consumer">EventStream</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#openRepository(java.nio.file.Path)" class="member-name-link">openRepository</a><wbr>(<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;directory)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Creates an event stream from a disk repository.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#remove(java.lang.Object)" class="member-name-link">remove</a><wbr>(<a href="../../../../java.base/java/lang/Object.html" title="class in java.lang">Object</a>&nbsp;action)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Unregisters an action.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setEndTime(java.time.Instant)" class="member-name-link">setEndTime</a><wbr>(<a href="../../../../java.base/java/time/Instant.html" title="class in java.time">Instant</a>&nbsp;endTime)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Specifies the end time of the stream.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setOrdered(boolean)" class="member-name-link">setOrdered</a><wbr>(boolean&nbsp;ordered)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Specifies that events arrives in chronological order, sorted by the time
 they were committed to the stream.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setReuse(boolean)" class="member-name-link">setReuse</a><wbr>(boolean&nbsp;reuse)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Specifies that the event object in an <a href="#onEvent(java.util.function.Consumer)"><code>onEvent(Consumer)</code></a> action
 can be reused.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setStartTime(java.time.Instant)" class="member-name-link">setStartTime</a><wbr>(<a href="../../../../java.base/java/time/Instant.html" title="class in java.time">Instant</a>&nbsp;startTime)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Specifies the start time of the stream.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#start()" class="member-name-link">start</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Starts processing of actions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#startAsync()" class="member-name-link">startAsync</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Starts asynchronous processing of actions.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="openRepository()">
<h3>openRepository</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="EventStream.html" title="interface in jdk.jfr.consumer">EventStream</a></span>&nbsp;<span class="element-name">openRepository</span>()
                           throws <span class="exceptions"><a href="../../../../java.base/java/io/IOException.html" title="class in java.io">IOException</a></span></div>
<div class="block">Creates a stream from the repository of the current Java Virtual Machine
 (JVM).
 <p>
 By default, the stream starts with the next event flushed by Flight
 Recorder.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an event stream, not <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/io/IOException.html" title="class in java.io">IOException</a></code> - if a stream can't be opened, or an I/O error occurs
         when trying to access the repository</dd>
<dd><code><a href="../../../../java.base/java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if a security manager exists and the caller
         does not have
         <code>FlightRecorderPermission("accessFlightRecorder")</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="openRepository(java.nio.file.Path)">
<h3>openRepository</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="EventStream.html" title="interface in jdk.jfr.consumer">EventStream</a></span>&nbsp;<span class="element-name">openRepository</span><wbr><span class="parameters">(<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;directory)</span>
                           throws <span class="exceptions"><a href="../../../../java.base/java/io/IOException.html" title="class in java.io">IOException</a></span></div>
<div class="block">Creates an event stream from a disk repository.
 <p>
 By default, the stream starts with the next event flushed by Flight
 Recorder.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>directory</code> - location of the disk repository, not <code>null</code></dd>
<dt>Returns:</dt>
<dd>an event stream, not <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/io/IOException.html" title="class in java.io">IOException</a></code> - if a stream can't be opened, or an I/O error occurs
         when trying to access the repository</dd>
<dd><code><a href="../../../../java.base/java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if a security manager exists and its
         <code>checkRead</code> method denies read access to the directory, or
         files in the directory.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="openFile(java.nio.file.Path)">
<h3>openFile</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="EventStream.html" title="interface in jdk.jfr.consumer">EventStream</a></span>&nbsp;<span class="element-name">openFile</span><wbr><span class="parameters">(<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;file)</span>
                     throws <span class="exceptions"><a href="../../../../java.base/java/io/IOException.html" title="class in java.io">IOException</a></span></div>
<div class="block">Creates an event stream from a file.
 <p>
 By default, the stream starts with the first event in the file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - location of the file, not <code>null</code></dd>
<dt>Returns:</dt>
<dd>an event stream, not <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/io/IOException.html" title="class in java.io">IOException</a></code> - if the file can't be opened, or an I/O error occurs
         during reading</dd>
<dd><code><a href="../../../../java.base/java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if a security manager exists and its
         <code>checkRead</code> method denies read access to the file</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onMetadata(java.util.function.Consumer)">
<h3>onMetadata</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onMetadata</span><wbr><span class="parameters">(<a href="../../../../java.base/java/util/function/Consumer.html" title="interface in java.util.function">Consumer</a>&lt;<a href="MetadataEvent.html" title="class in jdk.jfr.consumer">MetadataEvent</a>&gt;&nbsp;action)</span></div>
<div class="block">Registers an action to perform when new metadata arrives in the stream.

 The event type of an event always arrives sometime before the actual event.
 The action must be registered before the stream is started.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>The default implementation of this method is empty.</dd>
<dt>Parameters:</dt>
<dd><code>action</code> - to perform, not <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if an action is added after the stream has
                               started</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onEvent(java.util.function.Consumer)">
<h3>onEvent</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">onEvent</span><wbr><span class="parameters">(<a href="../../../../java.base/java/util/function/Consumer.html" title="interface in java.util.function">Consumer</a>&lt;<a href="RecordedEvent.html" title="class in jdk.jfr.consumer">RecordedEvent</a>&gt;&nbsp;action)</span></div>
<div class="block">Registers an action to perform on all events in the stream.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - an action to perform on each <code>RecordedEvent</code>, not
        <code>null</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onEvent(java.lang.String,java.util.function.Consumer)">
<h3>onEvent</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">onEvent</span><wbr><span class="parameters">(<a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&nbsp;eventName,
 <a href="../../../../java.base/java/util/function/Consumer.html" title="interface in java.util.function">Consumer</a>&lt;<a href="RecordedEvent.html" title="class in jdk.jfr.consumer">RecordedEvent</a>&gt;&nbsp;action)</span></div>
<div class="block">Registers an action to perform on all events matching a name.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>eventName</code> - the name of the event, not <code>null</code></dd>
<dd><code>action</code> - an action to perform on each <code>RecordedEvent</code> matching
        the event name, not <code>null</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onFlush(java.lang.Runnable)">
<h3>onFlush</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">onFlush</span><wbr><span class="parameters">(<a href="../../../../java.base/java/lang/Runnable.html" title="interface in java.lang">Runnable</a>&nbsp;action)</span></div>
<div class="block">Registers an action to perform after the stream has been flushed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - an action to perform after the stream has been
        flushed, not <code>null</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onError(java.util.function.Consumer)">
<h3>onError</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">onError</span><wbr><span class="parameters">(<a href="../../../../java.base/java/util/function/Consumer.html" title="interface in java.util.function">Consumer</a>&lt;<a href="../../../../java.base/java/lang/Throwable.html" title="class in java.lang">Throwable</a>&gt;&nbsp;action)</span></div>
<div class="block">Registers an action to perform if an exception occurs.
 <p>
 If an action is not registered, an exception stack trace is printed to
 standard error.
 <p>
 Registering an action overrides the default behavior. If multiple actions
 have been registered, they are performed in the order of registration.
 <p>
 If this method itself throws an exception, resulting behavior is
 undefined.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - an action to perform if an exception occurs, not
        <code>null</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onClose(java.lang.Runnable)">
<h3>onClose</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">onClose</span><wbr><span class="parameters">(<a href="../../../../java.base/java/lang/Runnable.html" title="interface in java.lang">Runnable</a>&nbsp;action)</span></div>
<div class="block">Registers an action to perform when the stream is closed.
 <p>
 If the stream is already closed, the action will be performed immediately
 in the current thread.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - an action to perform after the stream is closed, not
        <code>null</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#close()"><code>close()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Releases all resources associated with this stream.
 <p>
 If a stream is started, asynchronously or synchronously, it is stopped
 immediately or after the next flush. This method does <em>NOT</em>
 guarantee that all registered actions are completed before return.
 <p>
 Closing a previously closed stream has no effect.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../java.base/java/lang/AutoCloseable.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../java.base/java/lang/AutoCloseable.html" title="interface in java.lang">AutoCloseable</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="remove(java.lang.Object)">
<h3>remove</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">remove</span><wbr><span class="parameters">(<a href="../../../../java.base/java/lang/Object.html" title="class in java.lang">Object</a>&nbsp;action)</span></div>
<div class="block">Unregisters an action.
 <p>
 If the action has been registered multiple times, all instances are
 unregistered.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - the action to unregister, not <code>null</code></dd>
<dt>Returns:</dt>
<dd><code>true</code> if the action was unregistered, <code>false</code>
         otherwise</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#onEvent(java.util.function.Consumer)"><code>onEvent(Consumer)</code></a></li>
<li><a href="#onEvent(java.lang.String,java.util.function.Consumer)"><code>onEvent(String, Consumer)</code></a></li>
<li><a href="#onFlush(java.lang.Runnable)"><code>onFlush(Runnable)</code></a></li>
<li><a href="#onClose(java.lang.Runnable)"><code>onClose(Runnable)</code></a></li>
<li><a href="#onError(java.util.function.Consumer)"><code>onError(Consumer)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setReuse(boolean)">
<h3>setReuse</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setReuse</span><wbr><span class="parameters">(boolean&nbsp;reuse)</span></div>
<div class="block">Specifies that the event object in an <a href="#onEvent(java.util.function.Consumer)"><code>onEvent(Consumer)</code></a> action
 can be reused.
 <p>
 If reuse is set to <code>true</code>, an action should not keep a reference
 to the event object after the action has completed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>reuse</code> - <code>true</code> if an event object can be reused, <code>false</code>
 otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setOrdered(boolean)">
<h3>setOrdered</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setOrdered</span><wbr><span class="parameters">(boolean&nbsp;ordered)</span></div>
<div class="block">Specifies that events arrives in chronological order, sorted by the time
 they were committed to the stream.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ordered</code> - if event objects arrive in chronological order to
        <a href="#onEvent(java.util.function.Consumer)"><code>onEvent(Consumer)</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setStartTime(java.time.Instant)">
<h3>setStartTime</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setStartTime</span><wbr><span class="parameters">(<a href="../../../../java.base/java/time/Instant.html" title="class in java.time">Instant</a>&nbsp;startTime)</span></div>
<div class="block">Specifies the start time of the stream.
 <p>
 The start time must be set before starting the stream</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>startTime</code> - the start time, not <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the stream is already started</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#start()"><code>start()</code></a></li>
<li><a href="#startAsync()"><code>startAsync()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setEndTime(java.time.Instant)">
<h3>setEndTime</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setEndTime</span><wbr><span class="parameters">(<a href="../../../../java.base/java/time/Instant.html" title="class in java.time">Instant</a>&nbsp;endTime)</span></div>
<div class="block">Specifies the end time of the stream.
 <p>
 The end time must be set before starting the stream.
 <p>
 At end time, the stream is closed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>endTime</code> - the end time, not <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the stream is already started</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#start()"><code>start()</code></a></li>
<li><a href="#startAsync()"><code>startAsync()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="start()">
<h3>start</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">start</span>()</div>
<div class="block">Starts processing of actions.
 <p>
 Actions are performed in the current thread.
 <p>
 To stop the stream, use the <a href="#close()"><code>close()</code></a> method.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the stream is already started or closed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startAsync()">
<h3>startAsync</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">startAsync</span>()</div>
<div class="block">Starts asynchronous processing of actions.
 <p>
 Actions are performed in a single separate thread.
 <p>
 To stop the stream, use the <a href="#close()"><code>close()</code></a> method.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the stream is already started or closed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="awaitTermination(java.time.Duration)">
<h3>awaitTermination</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">awaitTermination</span><wbr><span class="parameters">(<a href="../../../../java.base/java/time/Duration.html" title="class in java.time">Duration</a>&nbsp;timeout)</span>
               throws <span class="exceptions"><a href="../../../../java.base/java/lang/InterruptedException.html" title="class in java.lang">InterruptedException</a></span></div>
<div class="block">Blocks until all actions are completed, or the stream is closed, or the
 timeout occurs, or the current thread is interrupted, whichever happens
 first.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timeout</code> - the maximum time to wait, not <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if timeout is negative</dd>
<dd><code><a href="../../../../java.base/java/lang/InterruptedException.html" title="class in java.lang">InterruptedException</a></code> - if interrupted while waiting</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#start()"><code>start()</code></a></li>
<li><a href="#startAsync()"><code>startAsync()</code></a></li>
<li><a href="../../../../java.base/java/lang/Thread.html#interrupt()"><code>Thread.interrupt()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="awaitTermination()">
<h3>awaitTermination</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">awaitTermination</span>()
               throws <span class="exceptions"><a href="../../../../java.base/java/lang/InterruptedException.html" title="class in java.lang">InterruptedException</a></span></div>
<div class="block">Blocks until all actions are completed, or the stream is closed, or the
 current thread is interrupted, whichever happens first.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/InterruptedException.html" title="class in java.lang">InterruptedException</a></code> - if interrupted while waiting</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#start()"><code>start()</code></a></li>
<li><a href="#startAsync()"><code>startAsync()</code></a></li>
<li><a href="../../../../java.base/java/lang/Thread.html#interrupt()"><code>Thread.interrupt()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase17&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2023, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <br><strong>DRAFT 17-crac+6-21</strong> <!-- Version 17-crac+6-21 --></small></p>
</footer>
</div>
</div>
</body>
</html>
