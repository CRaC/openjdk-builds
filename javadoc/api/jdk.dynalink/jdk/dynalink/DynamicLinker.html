<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>DynamicLinker (Java SE 17 &amp; JDK 17 [build 5])</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: jdk.dynalink, package: jdk.dynalink, class: DynamicLinker">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="jdk.dynalink.DynamicLinker class">
<meta name="keywords" content="link()">
<meta name="keywords" content="getLinkerServices()">
<meta name="keywords" content="getLinkedCallSiteLocation()">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="padding: 6px; text-align: center; font-size: 80%; font-family: DejaVu Sans, Arial, Helvetica, sans-serif; font-weight: normal;">This specification is not final and is subject to change. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a>.</div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 9px;"><strong>Java SE 17 &amp; JDK 17</strong> <br><strong>DRAFT 17-crac+5-19</strong></div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DynamicLinker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../preview-list.html">Preview</a></li>
<li><a href="../../../new-list.html">New</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../module-summary.html">jdk.dynalink</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jdk.dynalink</a></div>
<h1 title="Class DynamicLinker" class="title">Class DynamicLinker</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="../../../java.base/java/lang/Object.html" title="class in java.lang">java.lang.Object</a>
<div class="inheritance">jdk.dynalink.DynamicLinker</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">DynamicLinker</span>
<span class="extends-implements">extends <a href="../../../java.base/java/lang/Object.html" title="class in java.lang">Object</a></span></div>
<div class="block">The linker for <a href="RelinkableCallSite.html" title="interface in jdk.dynalink"><code>RelinkableCallSite</code></a> objects. A dynamic linker is a main
 objects when using Dynalink, it coordinates linking of call sites with
 linkers of available language runtimes that are represented by
 <a href="linker/GuardingDynamicLinker.html" title="interface in jdk.dynalink.linker"><code>GuardingDynamicLinker</code></a> objects (you only need to deal with these if
 you are yourself implementing a language runtime with its own object model
 and/or type conversions). To use Dynalink, you have to create one or more
 dynamic linkers using a <a href="DynamicLinkerFactory.html" title="class in jdk.dynalink"><code>DynamicLinkerFactory</code></a>. Subsequently, you need
 to invoke its <a href="#link(T)"><code>link(RelinkableCallSite)</code></a> method from
 <code>invokedynamic</code> bootstrap methods to let it manage all the call sites
 they create. Usual usage would be to create at least one class per language
 runtime to contain one linker instance as:
 <pre>

 class MyLanguageRuntime {
     private static final GuardingDynamicLinker myLanguageLinker = new MyLanguageLinker();
     private static final DynamicLinker dynamicLinker = createDynamicLinker();

     private static DynamicLinker createDynamicLinker() {
         final DynamicLinkerFactory factory = new DynamicLinkerFactory();
         factory.setPrioritizedLinker(myLanguageLinker);
         return factory.createLinker();
     }

     public static CallSite bootstrap(MethodHandles.Lookup lookup, String name, MethodType type) {
         return dynamicLinker.link(
             new SimpleRelinkableCallSite(
                 new CallSiteDescriptor(lookup, parseOperation(name), type)));
     }

     private static Operation parseOperation(String name) {
         ...
     }
 }
 </pre>
 The above setup of one static linker instance is often too simple. You will
 often have your language runtime have a concept of some kind of
 "context class loader" and you will want to create one dynamic linker per
 such class loader, to ensure it incorporates linkers for all other language
 runtimes visible to that class loader (see
 <a href="DynamicLinkerFactory.html#setClassLoader(java.lang.ClassLoader)"><code>DynamicLinkerFactory.setClassLoader(ClassLoader)</code></a>).
 <p>
 There are three components you need to provide in the above example:
 <ul>

 <li>You are expected to provide a <a href="linker/GuardingDynamicLinker.html" title="interface in jdk.dynalink.linker"><code>GuardingDynamicLinker</code></a> for your own
 language. If your runtime doesn't have its own object model or type
 conversions, you don't need to implement a <code>GuardingDynamicLinker</code>; you
 would simply not invoke the <code>setPrioritizedLinker</code> method on the factory.</li>

 <li>The performance of the programs can depend on your choice of the class to
 represent call sites. The above example used
 <a href="support/SimpleRelinkableCallSite.html" title="class in jdk.dynalink.support"><code>SimpleRelinkableCallSite</code></a>, but you might want to use
 <a href="support/ChainedCallSite.html" title="class in jdk.dynalink.support"><code>ChainedCallSite</code></a> instead. You'll need to experiment and decide what
 fits your runtime the best. You can further subclass either of these or
 implement your own.</li>

 <li>You also need to provide <a href="CallSiteDescriptor.html" title="class in jdk.dynalink"><code>CallSiteDescriptor</code></a>s to your call sites.
 They are immutable objects that contain all the information about the call
 site: the class performing the lookups, the operation being invoked, and the
 method signature. You will have to supply your own scheme to encode and
 decode operations in the call site name or static parameters, that is why
 in the above example the <code>parseOperation</code> method is left unimplemented.</li>

 </ul></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="../../../java.base/java/lang/StackTraceElement.html" title="class in java.lang">StackTraceElement</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getLinkedCallSiteLocation()" class="member-name-link">getLinkedCallSiteLocation</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a stack trace element describing the location of the
 <code>invokedynamic</code> call site currently being linked on the current
 thread.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="linker/LinkerServices.html" title="interface in jdk.dynalink.linker">LinkerServices</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLinkerServices()" class="member-name-link">getLinkerServices</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the object representing the linker services of this class that
 are normally exposed to individual <a href="linker/GuardingDynamicLinker.html" title="interface in jdk.dynalink.linker"><code>language-specific linkers</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T extends <a href="RelinkableCallSite.html" title="interface in jdk.dynalink">RelinkableCallSite</a>&gt;<br>T</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#link(T)" class="member-name-link">link</a><wbr>(T&nbsp;callSite)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Links an invokedynamic call site.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class&nbsp;java.lang.<a href="../../../java.base/java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../../java.base/java/lang/Object.html#clone()">clone</a>, <a href="../../../java.base/java/lang/Object.html#equals(java.lang.Object)">equals</a>, <a href="../../../java.base/java/lang/Object.html#finalize()">finalize</a>, <a href="../../../java.base/java/lang/Object.html#getClass()">getClass</a>, <a href="../../../java.base/java/lang/Object.html#hashCode()">hashCode</a>, <a href="../../../java.base/java/lang/Object.html#notify()">notify</a>, <a href="../../../java.base/java/lang/Object.html#notifyAll()">notifyAll</a>, <a href="../../../java.base/java/lang/Object.html#toString()">toString</a>, <a href="../../../java.base/java/lang/Object.html#wait()">wait</a>, <a href="../../../java.base/java/lang/Object.html#wait(long)">wait</a>, <a href="../../../java.base/java/lang/Object.html#wait(long,int)">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="link(T)">
<h3 id="link(jdk.dynalink.RelinkableCallSite)">link</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T extends <a href="RelinkableCallSite.html" title="interface in jdk.dynalink">RelinkableCallSite</a>&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">link</span><wbr><span class="parameters">(T&nbsp;callSite)</span></div>
<div class="block">Links an invokedynamic call site. It will install a method handle into
 the call site that invokes the relinking mechanism of this linker. Next
 time the call site is invoked, it will be linked for the actual arguments
 it was invoked with.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the particular subclass of <a href="RelinkableCallSite.html" title="interface in jdk.dynalink"><code>RelinkableCallSite</code></a> for
        which to create a link.</dd>
<dt>Parameters:</dt>
<dd><code>callSite</code> - the call site to link.</dd>
<dt>Returns:</dt>
<dd>the callSite, for easy call chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLinkerServices()">
<h3>getLinkerServices</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="linker/LinkerServices.html" title="interface in jdk.dynalink.linker">LinkerServices</a></span>&nbsp;<span class="element-name">getLinkerServices</span>()</div>
<div class="block">Returns the object representing the linker services of this class that
 are normally exposed to individual <a href="linker/GuardingDynamicLinker.html" title="interface in jdk.dynalink.linker"><code>language-specific linkers</code></a>. While as a user of this class you normally
 only care about the <a href="#link(T)"><code>link(RelinkableCallSite)</code></a> method, in certain
 circumstances you might want to use the lower level services directly;
 either to lookup specific method handles, to access the type converters,
 and so on.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the object representing the linker services of this class.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLinkedCallSiteLocation()">
<h3>getLinkedCallSiteLocation</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="../../../java.base/java/lang/StackTraceElement.html" title="class in java.lang">StackTraceElement</a></span>&nbsp;<span class="element-name">getLinkedCallSiteLocation</span>()</div>
<div class="block">Returns a stack trace element describing the location of the
 <code>invokedynamic</code> call site currently being linked on the current
 thread. The operation is potentially expensive as it needs to generate a
 stack trace to inspect it and is intended for use in diagnostics code.
 For "free-floating" call sites (not associated with an
 <code>invokedynamic</code> instruction), the result is not well-defined.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a stack trace element describing the location of the call site
         currently being linked, or null if it is not invoked while a call
         site is being linked.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase17&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2023, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <br><strong>DRAFT 17-crac+5-19</strong> <!-- Version 17-crac+5-19 --></small></p>
</footer>
</div>
</div>
</body>
</html>
