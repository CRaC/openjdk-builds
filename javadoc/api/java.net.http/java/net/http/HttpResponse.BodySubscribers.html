<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>HttpResponse.BodySubscribers (Java SE 17 &amp; JDK 17 [build 5])</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: java.net.http, package: java.net.http, interface: HttpResponse, class: BodySubscribers">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="java.net.http.HttpResponse.BodySubscribers class">
<meta name="keywords" content="fromSubscriber()">
<meta name="keywords" content="fromLineSubscriber()">
<meta name="keywords" content="ofString()">
<meta name="keywords" content="ofByteArray()">
<meta name="keywords" content="ofFile()">
<meta name="keywords" content="ofByteArrayConsumer()">
<meta name="keywords" content="ofInputStream()">
<meta name="keywords" content="ofLines()">
<meta name="keywords" content="ofPublisher()">
<meta name="keywords" content="replacing()">
<meta name="keywords" content="discarding()">
<meta name="keywords" content="buffering()">
<meta name="keywords" content="mapping()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="padding: 6px; text-align: center; font-size: 80%; font-family: DejaVu Sans, Arial, Helvetica, sans-serif; font-weight: normal;">This specification is not final and is subject to change. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a>.</div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 9px;"><strong>Java SE 17 &amp; JDK 17</strong> <br><strong>DRAFT 17-crac+5-19</strong></div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/HttpResponse.BodySubscribers.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../preview-list.html">Preview</a></li>
<li><a href="../../../../new-list.html">New</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">java.net.http</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">java.net.http</a></div>
<h1 title="Class HttpResponse.BodySubscribers" class="title">Class HttpResponse.BodySubscribers</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="../../../../java.base/java/lang/Object.html" title="class in java.lang">java.lang.Object</a>
<div class="inheritance">java.net.http.HttpResponse.BodySubscribers</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Enclosing interface:</dt>
<dd><a href="HttpResponse.html" title="interface in java.net.http">HttpResponse</a>&lt;<a href="HttpResponse.html" title="type parameter in HttpResponse">T</a>&gt;</dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public static class </span><span class="element-name type-name-label">HttpResponse.BodySubscribers</span>
<span class="extends-implements">extends <a href="../../../../java.base/java/lang/Object.html" title="class in java.lang">Object</a></span></div>
<div class="block">Implementations of <a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http"><code>BodySubscriber</code></a> that implement
 various useful subscribers, such as converting the response body bytes
 into a String, or streaming the bytes to a file.

 <p>The following are examples of using the predefined body subscribers
 to convert a flow of response body data into common high-level Java
 objects:

 <pre><code>   // Streams the response body to a File
   HttpResponse&lt;Path&gt; response = client
     .send(request, responseInfo -&gt; BodySubscribers.ofFile(Paths.get("example.html"));

   // Accumulates the response body and returns it as a byte[]
   HttpResponse&lt;byte[]&gt; response = client
     .send(request, responseInfo -&gt; BodySubscribers.ofByteArray());

   // Discards the response body
   HttpResponse&lt;Void&gt; response = client
     .send(request, responseInfo -&gt; BodySubscribers.discarding());

   // Accumulates the response body as a String then maps it to its bytes
   HttpResponse&lt;byte[]&gt; response = client
     .send(request, responseInfo -&gt;
        BodySubscribers.mapping(BodySubscribers.ofString(UTF_8), String::getBytes));
 </code></pre></div>
<dl class="notes">
<dt>Since:</dt>
<dd>11</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;T&gt;&nbsp;<a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;T&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#buffering(java.net.http.HttpResponse.BodySubscriber,int)" class="member-name-link">buffering</a><wbr>(<a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;T&gt;&nbsp;downstream,
 int&nbsp;bufferSize)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a <code>BodySubscriber</code> which buffers data before delivering
 it to the given downstream subscriber.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/lang/Void.html" title="class in java.lang">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#discarding()" class="member-name-link">discarding</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a response subscriber which discards the response body.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/lang/Void.html" title="class in java.lang">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#fromLineSubscriber(java.util.concurrent.Flow.Subscriber)" class="member-name-link">fromLineSubscriber</a><wbr>(<a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html" title="interface in java.util.concurrent">Flow.Subscriber</a>&lt;? super <a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&gt;&nbsp;subscriber)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a body subscriber that forwards all response body to the
 given <code>Flow.Subscriber</code>, line by line.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;S extends <a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html" title="interface in java.util.concurrent">Flow.Subscriber</a>&lt;? super <a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&gt;,<wbr>
T&gt;<br><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;T&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#fromLineSubscriber(S,java.util.function.Function,java.nio.charset.Charset,java.lang.String)" class="member-name-link">fromLineSubscriber</a><wbr>(S&nbsp;subscriber,
 <a href="../../../../java.base/java/util/function/Function.html" title="interface in java.util.function">Function</a>&lt;? super S,<wbr>? extends T&gt;&nbsp;finisher,
 <a href="../../../../java.base/java/nio/charset/Charset.html" title="class in java.nio.charset">Charset</a>&nbsp;charset,
 <a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&nbsp;lineSeparator)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a body subscriber that forwards all response body to the
 given <code>Flow.Subscriber</code>, line by line.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/lang/Void.html" title="class in java.lang">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#fromSubscriber(java.util.concurrent.Flow.Subscriber)" class="member-name-link">fromSubscriber</a><wbr>(<a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html" title="interface in java.util.concurrent">Flow.Subscriber</a>&lt;? super <a href="../../../../java.base/java/util/List.html" title="interface in java.util">List</a>&lt;<a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a>&gt;&gt;&nbsp;subscriber)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a body subscriber that forwards all response body to the
 given <code>Flow.Subscriber</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;S extends <a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html" title="interface in java.util.concurrent">Flow.Subscriber</a>&lt;? super <a href="../../../../java.base/java/util/List.html" title="interface in java.util">List</a>&lt;<a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a>&gt;&gt;,<wbr>
T&gt;<br><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;T&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#fromSubscriber(S,java.util.function.Function)" class="member-name-link">fromSubscriber</a><wbr>(S&nbsp;subscriber,
 <a href="../../../../java.base/java/util/function/Function.html" title="interface in java.util.function">Function</a>&lt;? super S,<wbr>? extends T&gt;&nbsp;finisher)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a body subscriber that forwards all response body to the
 given <code>Flow.Subscriber</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;T,<wbr>
U&gt;&nbsp;<a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;U&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#mapping(java.net.http.HttpResponse.BodySubscriber,java.util.function.Function)" class="member-name-link">mapping</a><wbr>(<a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;T&gt;&nbsp;upstream,
 <a href="../../../../java.base/java/util/function/Function.html" title="interface in java.util.function">Function</a>&lt;? super T,<wbr>? extends U&gt;&nbsp;mapper)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a <code>BodySubscriber</code> whose response body value is that of
 the result of applying the given function to the body object of the
 given <code>upstream</code> <code>BodySubscriber</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;byte[]&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ofByteArray()" class="member-name-link">ofByteArray</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a <code>BodySubscriber</code> which stores the response body as a
 byte array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/lang/Void.html" title="class in java.lang">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ofByteArrayConsumer(java.util.function.Consumer)" class="member-name-link">ofByteArrayConsumer</a><wbr>(<a href="../../../../java.base/java/util/function/Consumer.html" title="interface in java.util.function">Consumer</a>&lt;<a href="../../../../java.base/java/util/Optional.html" title="class in java.util">Optional</a>&lt;byte[]&gt;&gt;&nbsp;consumer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a <code>BodySubscriber</code> which provides the incoming body
 data to the provided Consumer of <code>Optional&lt;byte[]&gt;</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ofFile(java.nio.file.Path)" class="member-name-link">ofFile</a><wbr>(<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;file)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a <code>BodySubscriber</code> which stores the response body in a
 file opened with the given name.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ofFile(java.nio.file.Path,java.nio.file.OpenOption...)" class="member-name-link">ofFile</a><wbr>(<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;file,
 <a href="../../../../java.base/java/nio/file/OpenOption.html" title="interface in java.nio.file">OpenOption</a>...&nbsp;openOptions)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a <code>BodySubscriber</code> which stores the response body in a
 file opened with the given options and name.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/io/InputStream.html" title="class in java.io">InputStream</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ofInputStream()" class="member-name-link">ofInputStream</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a <code>BodySubscriber</code> which streams the response body as
 an <a href="../../../../java.base/java/io/InputStream.html" title="class in java.io"><code>InputStream</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/util/stream/Stream.html" title="interface in java.util.stream">Stream</a>&lt;<a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ofLines(java.nio.charset.Charset)" class="member-name-link">ofLines</a><wbr>(<a href="../../../../java.base/java/nio/charset/Charset.html" title="class in java.nio.charset">Charset</a>&nbsp;charset)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a <code>BodySubscriber</code> which streams the response body as
 a <a href="../../../../java.base/java/util/stream/Stream.html" title="interface in java.util.stream"><code>Stream</code></a><code>&lt;String&gt;</code>, where each string in the stream
 corresponds to a line as defined by <a href="../../../../java.base/java/io/BufferedReader.html#lines()"><code>BufferedReader.lines()</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/util/concurrent/Flow.Publisher.html" title="interface in java.util.concurrent">Flow.Publisher</a>&lt;<a href="../../../../java.base/java/util/List.html" title="interface in java.util">List</a>&lt;<a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a>&gt;&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ofPublisher()" class="member-name-link">ofPublisher</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a response subscriber which publishes the response body
 through a <code>Publisher&lt;List&lt;ByteBuffer&gt;&gt;</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ofString(java.nio.charset.Charset)" class="member-name-link">ofString</a><wbr>(<a href="../../../../java.base/java/nio/charset/Charset.html" title="class in java.nio.charset">Charset</a>&nbsp;charset)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a body subscriber which stores the response body as a <code>
 String</code> converted using the given <code>Charset</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;U&gt;&nbsp;<a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;U&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#replacing(U)" class="member-name-link">replacing</a><wbr>(U&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a response subscriber which discards the response body.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class&nbsp;java.lang.<a href="../../../../java.base/java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../../../java.base/java/lang/Object.html#clone()">clone</a>, <a href="../../../../java.base/java/lang/Object.html#equals(java.lang.Object)">equals</a>, <a href="../../../../java.base/java/lang/Object.html#finalize()">finalize</a>, <a href="../../../../java.base/java/lang/Object.html#getClass()">getClass</a>, <a href="../../../../java.base/java/lang/Object.html#hashCode()">hashCode</a>, <a href="../../../../java.base/java/lang/Object.html#notify()">notify</a>, <a href="../../../../java.base/java/lang/Object.html#notifyAll()">notifyAll</a>, <a href="../../../../java.base/java/lang/Object.html#toString()">toString</a>, <a href="../../../../java.base/java/lang/Object.html#wait()">wait</a>, <a href="../../../../java.base/java/lang/Object.html#wait(long)">wait</a>, <a href="../../../../java.base/java/lang/Object.html#wait(long,int)">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="fromSubscriber(java.util.concurrent.Flow.Subscriber)">
<h3>fromSubscriber</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/lang/Void.html" title="class in java.lang">Void</a>&gt;</span>&nbsp;<span class="element-name">fromSubscriber</span><wbr><span class="parameters">(<a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html" title="interface in java.util.concurrent">Flow.Subscriber</a>&lt;? super <a href="../../../../java.base/java/util/List.html" title="interface in java.util">List</a>&lt;<a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a>&gt;&gt;&nbsp;subscriber)</span></div>
<div class="block">Returns a body subscriber that forwards all response body to the
 given <code>Flow.Subscriber</code>. The <a href="HttpResponse.BodySubscriber.html#getBody()">completion stage</a> of the returned body subscriber completes after one
 of the given subscribers <code>onComplete</code> or <code>onError</code> has
 been invoked.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>This method can be used as an adapter between <code>
 BodySubscriber</code> and <code>Flow.Subscriber</code>.</dd>
<dt>Parameters:</dt>
<dd><code>subscriber</code> - the subscriber</dd>
<dt>Returns:</dt>
<dd>a body subscriber</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fromSubscriber(S,java.util.function.Function)">
<h3 id="fromSubscriber(java.util.concurrent.Flow.Subscriber,java.util.function.Function)">fromSubscriber</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters-long">&lt;S extends <a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html" title="interface in java.util.concurrent">Flow.Subscriber</a>&lt;? super <a href="../../../../java.base/java/util/List.html" title="interface in java.util">List</a>&lt;<a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a>&gt;&gt;,<wbr>
T&gt;</span>
<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;T&gt;</span>&nbsp;<span class="element-name">fromSubscriber</span><wbr><span class="parameters">(S&nbsp;subscriber,
 <a href="../../../../java.base/java/util/function/Function.html" title="interface in java.util.function">Function</a>&lt;? super S,<wbr>? extends T&gt;&nbsp;finisher)</span></div>
<div class="block">Returns a body subscriber that forwards all response body to the
 given <code>Flow.Subscriber</code>. The <a href="HttpResponse.BodySubscriber.html#getBody()">completion stage</a> of the returned body subscriber completes after one
 of the given subscribers <code>onComplete</code> or <code>onError</code> has
 been invoked.

 <p> The given <code>finisher</code> function is applied after the given
 subscriber's <code>onComplete</code> has been invoked. The <code>finisher</code>
 function is invoked with the given subscriber, and returns a value
 that is set as the response's body.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>This method can be used as an adapter between <code>
 BodySubscriber</code> and <code>Flow.Subscriber</code>.</dd>
<dt>Type Parameters:</dt>
<dd><code>S</code> - the type of the Subscriber</dd>
<dd><code>T</code> - the type of the response body</dd>
<dt>Parameters:</dt>
<dd><code>subscriber</code> - the subscriber</dd>
<dd><code>finisher</code> - a function to be applied after the subscriber has
                 completed</dd>
<dt>Returns:</dt>
<dd>a body subscriber</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fromLineSubscriber(java.util.concurrent.Flow.Subscriber)">
<h3>fromLineSubscriber</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/lang/Void.html" title="class in java.lang">Void</a>&gt;</span>&nbsp;<span class="element-name">fromLineSubscriber</span><wbr><span class="parameters">(<a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html" title="interface in java.util.concurrent">Flow.Subscriber</a>&lt;? super <a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&gt;&nbsp;subscriber)</span></div>
<div class="block">Returns a body subscriber that forwards all response body to the
 given <code>Flow.Subscriber</code>, line by line.
 The <a href="HttpResponse.BodySubscriber.html#getBody()">completion
 stage</a> of the returned body subscriber completes after one of the
 given subscribers <code>onComplete</code> or <code>onError</code> has been
 invoked.
 Bytes are decoded using the <a href="../../../../java.base/java/nio/charset/StandardCharsets.html#UTF_8"><code>UTF-8</code></a> charset, and lines are delimited in the manner of
 <a href="../../../../java.base/java/io/BufferedReader.html#readLine()"><code>BufferedReader.readLine()</code></a>.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>This method can be used as an adapter between <code>
 BodySubscriber</code> and <code>Flow.Subscriber</code>.</dd>
<dt>Implementation Note:</dt>
<dd>This is equivalent to calling <pre><code>
      fromLineSubscriber(subscriber, s -&gt; null, StandardCharsets.UTF_8, null)
 </code></pre></dd>
<dt>Parameters:</dt>
<dd><code>subscriber</code> - the subscriber</dd>
<dt>Returns:</dt>
<dd>a body subscriber</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fromLineSubscriber(S,java.util.function.Function,java.nio.charset.Charset,java.lang.String)">
<h3 id="fromLineSubscriber(java.util.concurrent.Flow.Subscriber,java.util.function.Function,java.nio.charset.Charset,java.lang.String)">fromLineSubscriber</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;S extends <a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html" title="interface in java.util.concurrent">Flow.Subscriber</a>&lt;? super <a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&gt;,<wbr>
T&gt;</span>
<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;T&gt;</span>&nbsp;<span class="element-name">fromLineSubscriber</span><wbr><span class="parameters">(S&nbsp;subscriber,
 <a href="../../../../java.base/java/util/function/Function.html" title="interface in java.util.function">Function</a>&lt;? super S,<wbr>? extends T&gt;&nbsp;finisher,
 <a href="../../../../java.base/java/nio/charset/Charset.html" title="class in java.nio.charset">Charset</a>&nbsp;charset,
 <a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&nbsp;lineSeparator)</span></div>
<div class="block">Returns a body subscriber that forwards all response body to the
 given <code>Flow.Subscriber</code>, line by line. The <a href="HttpResponse.BodySubscriber.html#getBody()">completion stage</a> of the returned body
 subscriber completes after one of the given subscribers
 <code>onComplete</code> or <code>onError</code> has been invoked.

 <p> The given <code>finisher</code> function is applied after the given
 subscriber's <code>onComplete</code> has been invoked. The <code>finisher</code>
 function is invoked with the given subscriber, and returns a value
 that is set as the response's body.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>This method can be used as an adapter between <code>
 BodySubscriber</code> and <code>Flow.Subscriber</code>.</dd>
<dt>Type Parameters:</dt>
<dd><code>S</code> - the type of the Subscriber</dd>
<dd><code>T</code> - the type of the response body</dd>
<dt>Parameters:</dt>
<dd><code>subscriber</code> - the subscriber</dd>
<dd><code>finisher</code> - a function to be applied after the subscriber has
                 completed</dd>
<dd><code>charset</code> - a <a href="../../../../java.base/java/nio/charset/Charset.html" title="class in java.nio.charset"><code>Charset</code></a> to decode the bytes</dd>
<dd><code>lineSeparator</code> - an optional line separator: can be <code>null</code>,
                      in which case lines will be delimited in the manner of
                      <a href="../../../../java.base/java/io/BufferedReader.html#readLine()"><code>BufferedReader.readLine()</code></a>.</dd>
<dt>Returns:</dt>
<dd>a body subscriber</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the supplied <code>lineSeparator</code>
         is the empty string</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ofString(java.nio.charset.Charset)">
<h3>ofString</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&gt;</span>&nbsp;<span class="element-name">ofString</span><wbr><span class="parameters">(<a href="../../../../java.base/java/nio/charset/Charset.html" title="class in java.nio.charset">Charset</a>&nbsp;charset)</span></div>
<div class="block">Returns a body subscriber which stores the response body as a <code>
 String</code> converted using the given <code>Charset</code>.

 <p> The <a href="HttpResponse.html" title="interface in java.net.http"><code>HttpResponse</code></a> using this subscriber is available after
 the entire response has been read.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>charset</code> - the character set to convert the String with</dd>
<dt>Returns:</dt>
<dd>a body subscriber</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ofByteArray()">
<h3>ofByteArray</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;byte[]&gt;</span>&nbsp;<span class="element-name">ofByteArray</span>()</div>
<div class="block">Returns a <code>BodySubscriber</code> which stores the response body as a
 byte array.

 <p> The <a href="HttpResponse.html" title="interface in java.net.http"><code>HttpResponse</code></a> using this subscriber is available after
 the entire response has been read.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a body subscriber</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ofFile(java.nio.file.Path,java.nio.file.OpenOption...)">
<h3>ofFile</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&gt;</span>&nbsp;<span class="element-name">ofFile</span><wbr><span class="parameters">(<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;file,
 <a href="../../../../java.base/java/nio/file/OpenOption.html" title="interface in java.nio.file">OpenOption</a>...&nbsp;openOptions)</span></div>
<div class="block">Returns a <code>BodySubscriber</code> which stores the response body in a
 file opened with the given options and name. The file will be opened
 with the given options using <a href="../../../../java.base/java/nio/channels/FileChannel.html#open(java.nio.file.Path,java.nio.file.OpenOption...)"><code>FileChannel.open</code></a> just before the body is read. Any exception thrown
 will be returned or thrown from <a href="HttpClient.html#send(java.net.http.HttpRequest,java.net.http.HttpResponse.BodyHandler)"><code>HttpClient::send</code></a> or <a href="HttpClient.html#sendAsync(java.net.http.HttpRequest,java.net.http.HttpResponse.BodyHandler)"><code>HttpClient::sendAsync</code></a> as appropriate.

 <p> The <a href="HttpResponse.html" title="interface in java.net.http"><code>HttpResponse</code></a> using this subscriber is available after
 the entire response has been read.

 <p> In the case of the default file system provider, security manager
 permission checks are performed in this factory method, when the
 <code>BodySubscriber</code> is created. Otherwise,
 <a href="../../../../java.base/java/nio/channels/FileChannel.html#open(java.nio.file.Path,java.nio.file.OpenOption...)">permission checks</a>
 may be performed asynchronously against the caller's context
 at file access time.
 Care must be taken that the <code>BodySubscriber</code> is not shared with
 untrusted code.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - the file to store the body in</dd>
<dd><code>openOptions</code> - the list of options to open the file with</dd>
<dt>Returns:</dt>
<dd>a body subscriber</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if an invalid set of open options
         are specified</dd>
<dd><code><a href="../../../../java.base/java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - in the case of the default file system
         provider, and a security manager is installed,
         <a href="../../../../java.base/java/lang/SecurityManager.html#checkWrite(java.lang.String)"><code>checkWrite</code></a>
         is invoked to check write access to the given file</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ofFile(java.nio.file.Path)">
<h3>ofFile</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&gt;</span>&nbsp;<span class="element-name">ofFile</span><wbr><span class="parameters">(<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;file)</span></div>
<div class="block">Returns a <code>BodySubscriber</code> which stores the response body in a
 file opened with the given name.

 <p> Equivalent to: <code>ofFile(file, CREATE, WRITE)</code>

 <p> In the case of the default file system provider, security manager
 permission checks are performed in this factory method, when the
 <code>BodySubscriber</code> is created. Otherwise,
 <a href="../../../../java.base/java/nio/channels/FileChannel.html#open(java.nio.file.Path,java.nio.file.OpenOption...)">permission checks</a>
 may be performed asynchronously against the caller's context
 at file access time.
 Care must be taken that the <code>BodySubscriber</code> is not shared with
 untrusted code.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - the file to store the body in</dd>
<dt>Returns:</dt>
<dd>a body subscriber</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - in the case of the default file system
         provider, and a security manager is installed,
         <a href="../../../../java.base/java/lang/SecurityManager.html#checkWrite(java.lang.String)"><code>checkWrite</code></a>
         is invoked to check write access to the given file</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ofByteArrayConsumer(java.util.function.Consumer)">
<h3>ofByteArrayConsumer</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/lang/Void.html" title="class in java.lang">Void</a>&gt;</span>&nbsp;<span class="element-name">ofByteArrayConsumer</span><wbr><span class="parameters">(<a href="../../../../java.base/java/util/function/Consumer.html" title="interface in java.util.function">Consumer</a>&lt;<a href="../../../../java.base/java/util/Optional.html" title="class in java.util">Optional</a>&lt;byte[]&gt;&gt;&nbsp;consumer)</span></div>
<div class="block">Returns a <code>BodySubscriber</code> which provides the incoming body
 data to the provided Consumer of <code>Optional&lt;byte[]&gt;</code>. Each
 call to <a href="../../../../java.base/java/util/function/Consumer.html#accept(T)"><code>Consumer.accept()</code></a>
 will contain a non empty <code>Optional</code>, except for the final
 invocation after all body data has been read, when the <code>
 Optional</code> will be empty.

 <p> The <a href="HttpResponse.html" title="interface in java.net.http"><code>HttpResponse</code></a> using this subscriber is available after
 the entire response has been read.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>This subscriber is not flow controlled.
 Therefore, the supplied consumer must be able to process whatever
 amount of data is delivered in a timely fashion.</dd>
<dt>Parameters:</dt>
<dd><code>consumer</code> - a Consumer of byte arrays</dd>
<dt>Returns:</dt>
<dd>a BodySubscriber</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ofInputStream()">
<h3>ofInputStream</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/io/InputStream.html" title="class in java.io">InputStream</a>&gt;</span>&nbsp;<span class="element-name">ofInputStream</span>()</div>
<div class="block">Returns a <code>BodySubscriber</code> which streams the response body as
 an <a href="../../../../java.base/java/io/InputStream.html" title="class in java.io"><code>InputStream</code></a>.

 <p> The <a href="HttpResponse.html" title="interface in java.net.http"><code>HttpResponse</code></a> using this subscriber is available
 immediately after the response headers have been read, without
 requiring to wait for the entire body to be processed. The response
 body can then be read directly from the <a href="../../../../java.base/java/io/InputStream.html" title="class in java.io"><code>InputStream</code></a>.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>To ensure that all resources associated with the
 corresponding exchange are properly released the caller must
 ensure to either read all bytes until EOF is reached, or call
 <a href="../../../../java.base/java/io/InputStream.html#close()"><code>InputStream.close()</code></a> if it is unable or unwilling to do so.
 Calling <code>close</code> before exhausting the stream may cause
 the underlying HTTP connection to be closed and prevent it
 from being reused for subsequent operations.</dd>
<dt>Returns:</dt>
<dd>a body subscriber that streams the response body as an
         <a href="../../../../java.base/java/io/InputStream.html" title="class in java.io"><code>InputStream</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ofLines(java.nio.charset.Charset)">
<h3>ofLines</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/util/stream/Stream.html" title="interface in java.util.stream">Stream</a>&lt;<a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&gt;&gt;</span>&nbsp;<span class="element-name">ofLines</span><wbr><span class="parameters">(<a href="../../../../java.base/java/nio/charset/Charset.html" title="class in java.nio.charset">Charset</a>&nbsp;charset)</span></div>
<div class="block">Returns a <code>BodySubscriber</code> which streams the response body as
 a <a href="../../../../java.base/java/util/stream/Stream.html" title="interface in java.util.stream"><code>Stream</code></a><code>&lt;String&gt;</code>, where each string in the stream
 corresponds to a line as defined by <a href="../../../../java.base/java/io/BufferedReader.html#lines()"><code>BufferedReader.lines()</code></a>.

 <p> The <a href="HttpResponse.html" title="interface in java.net.http"><code>HttpResponse</code></a> using this subscriber is available
 immediately after the response headers have been read, without
 requiring to wait for the entire body to be processed. The response
 body can then be read directly from the <a href="../../../../java.base/java/util/stream/Stream.html" title="interface in java.util.stream"><code>Stream</code></a>.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>To ensure that all resources associated with the
 corresponding exchange are properly released the caller must
 ensure to either read all lines until the stream is exhausted,
 or call <a href="../../../../java.base/java/util/stream/BaseStream.html#close()"><code>BaseStream.close()</code></a> if it is unable or unwilling to do so.
 Calling <code>close</code> before exhausting the stream may cause
 the underlying HTTP connection to be closed and prevent it
 from being reused for subsequent operations.</dd>
<dt>Parameters:</dt>
<dd><code>charset</code> - the character set to use when converting bytes to characters</dd>
<dt>Returns:</dt>
<dd>a body subscriber that streams the response body as a
         <a href="../../../../java.base/java/util/stream/Stream.html" title="interface in java.util.stream"><code>Stream</code></a><code>&lt;String&gt;</code>.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../java.base/java/io/BufferedReader.html#lines()"><code>BufferedReader.lines()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ofPublisher()">
<h3>ofPublisher</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/util/concurrent/Flow.Publisher.html" title="interface in java.util.concurrent">Flow.Publisher</a>&lt;<a href="../../../../java.base/java/util/List.html" title="interface in java.util">List</a>&lt;<a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a>&gt;&gt;&gt;</span>&nbsp;<span class="element-name">ofPublisher</span>()</div>
<div class="block">Returns a response subscriber which publishes the response body
 through a <code>Publisher&lt;List&lt;ByteBuffer&gt;&gt;</code>.

 <p> The <a href="HttpResponse.html" title="interface in java.net.http"><code>HttpResponse</code></a> using this subscriber is available
 immediately after the response headers have been read, without
 requiring to wait for the entire body to be processed. The response
 body bytes can then be obtained by subscribing to the publisher
 returned by the <code>HttpResponse</code> <a href="HttpResponse.html#body()"><code>body</code></a>
 method.

 <p>The publisher returned by the <a href="HttpResponse.html#body()"><code>body</code></a>
 method can be subscribed to only once. The first subscriber will
 receive the body response bytes if successfully subscribed, or will
 cause the subscription to be cancelled otherwise.
 If more subscriptions are attempted, the subsequent subscribers will
 be immediately subscribed with an empty subscription and their
 <a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html#onError(java.lang.Throwable)"><code>onError</code></a> method
 will be invoked with an <code>IllegalStateException</code>.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>To ensure that all resources associated with the
 corresponding exchange are properly released the caller must
 ensure that the provided publisher is subscribed once, and either
 <a href="../../../../java.base/java/util/concurrent/Flow.Subscription.html#request(long)">requests</a> all bytes
 until <a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html#onComplete()"><code>onComplete</code></a> or
 <a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html#onError(java.lang.Throwable)"><code>onError</code></a> are invoked, or
 cancel the provided <a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html#onSubscribe(java.util.concurrent.Flow.Subscription)">subscription</a> if it is unable or unwilling to do so.
 Note that depending on the actual HTTP protocol <a href="HttpClient.Version.html" title="enum class in java.net.http">version</a> used for the exchange, cancelling the
 subscription instead of exhausting the flow may cause the underlying
 HTTP connection to be closed and prevent it from being reused for
 subsequent operations.</dd>
<dt>Returns:</dt>
<dd>A <code>BodySubscriber</code> which publishes the response body
         through a <code>Publisher&lt;List&lt;ByteBuffer&gt;&gt;</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="replacing(U)">
<h3 id="replacing(java.lang.Object)">replacing</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;U&gt;</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;U&gt;</span>&nbsp;<span class="element-name">replacing</span><wbr><span class="parameters">(U&nbsp;value)</span></div>
<div class="block">Returns a response subscriber which discards the response body. The
 supplied value is the value that will be returned from
 <a href="HttpResponse.html#body()"><code>HttpResponse.body()</code></a>.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>U</code> - the type of the response body</dd>
<dt>Parameters:</dt>
<dd><code>value</code> - the value to return from HttpResponse.body(), may be <code>null</code></dd>
<dt>Returns:</dt>
<dd>a <code>BodySubscriber</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="discarding()">
<h3>discarding</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;<a href="../../../../java.base/java/lang/Void.html" title="class in java.lang">Void</a>&gt;</span>&nbsp;<span class="element-name">discarding</span>()</div>
<div class="block">Returns a response subscriber which discards the response body.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a response body subscriber</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="buffering(java.net.http.HttpResponse.BodySubscriber,int)">
<h3>buffering</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;T&gt;</span>&nbsp;<span class="element-name">buffering</span><wbr><span class="parameters">(<a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;T&gt;&nbsp;downstream,
 int&nbsp;bufferSize)</span></div>
<div class="block">Returns a <code>BodySubscriber</code> which buffers data before delivering
 it to the given downstream subscriber. The subscriber guarantees to
 deliver <code>bufferSize</code> bytes of data to each invocation of the
 downstream's <a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html#onNext(T)"><code>onNext</code></a> method,
 except for the final invocation, just before
 <a href="../../../../java.base/java/util/concurrent/Flow.Subscriber.html#onComplete()"><code>onComplete</code></a> is invoked. The final
 invocation of <code>onNext</code> may contain fewer than <code>bufferSize</code>
 bytes.

 <p> The returned subscriber delegates its <a href="HttpResponse.BodySubscriber.html#getBody()"><code>getBody()</code></a> method to the downstream subscriber.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of the response body</dd>
<dt>Parameters:</dt>
<dd><code>downstream</code> - the downstream subscriber</dd>
<dd><code>bufferSize</code> - the buffer size</dd>
<dt>Returns:</dt>
<dd>a buffering body subscriber</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>bufferSize &lt;= 0</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mapping(java.net.http.HttpResponse.BodySubscriber,java.util.function.Function)">
<h3>mapping</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;T,<wbr>
U&gt;</span>&nbsp;<span class="return-type"><a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;U&gt;</span>&nbsp;<span class="element-name">mapping</span><wbr><span class="parameters">(<a href="HttpResponse.BodySubscriber.html" title="interface in java.net.http">HttpResponse.BodySubscriber</a>&lt;T&gt;&nbsp;upstream,
 <a href="../../../../java.base/java/util/function/Function.html" title="interface in java.util.function">Function</a>&lt;? super T,<wbr>? extends U&gt;&nbsp;mapper)</span></div>
<div class="block">Returns a <code>BodySubscriber</code> whose response body value is that of
 the result of applying the given function to the body object of the
 given <code>upstream</code> <code>BodySubscriber</code>.

 <p> The mapping function is executed using the client's <a href="HttpClient.html#executor()">executor</a>, and can therefore be used to map any
 response body type, including blocking <a href="../../../../java.base/java/io/InputStream.html" title="class in java.io"><code>InputStream</code></a>.
 However, performing any blocking operation in the mapper function
 runs the risk of blocking the executor's thread for an unknown
 amount of time (at least until the blocking operation finishes),
 which may end up starving the executor of available threads.
 Therefore, in the case where mapping to the desired type might
 block (e.g. by reading on the <code>InputStream</code>), then mapping
 to a <a href="../../../../java.base/java/util/function/Supplier.html" title="interface in java.util.function"><code>Supplier</code></a> of the desired
 type and deferring the blocking operation until <a href="../../../../java.base/java/util/function/Supplier.html#get()"><code>Supplier::get</code></a> is invoked by the caller's thread should be preferred,
 as shown in the following example which uses a well-known JSON parser to
 convert an <code>InputStream</code> into any annotated Java type.

 <p>For example:
 <pre> <code> public static &lt;W&gt; BodySubscriber&lt;Supplier&lt;W&gt;&gt; asJSON(Class&lt;W&gt; targetType) {
     BodySubscriber&lt;InputStream&gt; upstream = BodySubscribers.ofInputStream();

     BodySubscriber&lt;Supplier&lt;W&gt;&gt; downstream = BodySubscribers.mapping(
           upstream,
           (InputStream is) -&gt; () -&gt; {
               try (InputStream stream = is) {
                   ObjectMapper objectMapper = new ObjectMapper();
                   return objectMapper.readValue(stream, targetType);
               } catch (IOException e) {
                   throw new UncheckedIOException(e);
               }
           });
    return downstream;
  } </code></pre></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the upstream body type</dd>
<dd><code>U</code> - the type of the body subscriber returned</dd>
<dt>Parameters:</dt>
<dd><code>upstream</code> - the body subscriber to be mapped</dd>
<dd><code>mapper</code> - the mapping function</dd>
<dt>Returns:</dt>
<dd>a mapping body subscriber</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase17&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2023, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <br><strong>DRAFT 17-crac+5-19</strong> <!-- Version 17-crac+5-19 --></small></p>
</footer>
</div>
</div>
</body>
</html>
