<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>javax.crac (Java SE 17 &amp; JDK 17 [build 6])</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: java.base, package: javax.crac">
<meta name="generator" content="javadoc/PackageWriterImpl">
<meta name="keywords" content="javax.crac package">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="padding: 6px; text-align: center; font-size: 80%; font-family: DejaVu Sans, Arial, Helvetica, sans-serif; font-weight: normal;">This specification is not final and is subject to change. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a>.</div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 9px;"><strong>Java SE 17 &amp; JDK 17</strong> <br><strong>DRAFT 17-crac+6-21</strong></div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="../../module-summary.html">Module</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../preview-list.html">Preview</a></li>
<li><a href="../../../new-list.html">New</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li>Related Packages&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<div class="sub-title"><span class="module-label-in-package">Module</span>&nbsp;<a href="../../module-summary.html">java.base</a></div>
<h1 title="Package javax.crac" class="title">Package javax.crac</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">javax.crac</span></div>
<section class="package-description" id="package-description">
<div class="block">Provides explicit coordination with a checkpoint/restore mechanism.
 A checkpoint/restore implementation may capture process or application state images for later continuation.
 Coordination allows application code to prepare for a checkpoint and to adapt to changes in the execution environment after a restore.
 <p>
 Successful checkpointing and restoration may require that no checkpointed state exist that might not be validly reproducible when
restoring instances from the image.
 Coordination enables application to proactively discard problematic state ahead of checkpointing, and to reestablish needed state upon restoration.
 A Java implementation may provide detection of some subsets of state that are known to prevent successful checkpoints.
 <p>
 For example, a state of opened file descriptors or socket may be impossible to store in the image.
 The implementation may detect such resources and then prevent checkpoint.
 The application must then close file descriptors and sockets to be successfully checkpointed.
 Files and sockets may be opened back after restore, then the application is responsible for processing possible exceptions.
 <p>
 <a href="Resource.html" title="interface in javax.crac"><code>Resource</code></a> is an interface for receiving checkpoint/restore notifications.
 In order to be notified, <code>Resource</code> needs to be registered in a <a href="Context.html" title="class in javax.crac"><code>Context</code></a>.
 <a href="Core.html" title="class in javax.crac"><code>Core</code></a> is a core interface for coordination. It provides the global <code>Context</code> which can be used as default choice.
 The global <code>Context</code> have properties listed below, one can define a custom <code>Context</code> and register it with the global one.
 <code>Core</code> has also a method to request checkpoint.
 <p>
 Methods of <code>Resource</code> are invoked as a notification of checkpoint and restore.
 If a <code>Resource</code> is incapable to process notification, corresponding method throws an exception.
 The global <code>Context</code> ensures that exceptions are propagated to a requester of checkpoint/restore.
 <p>
 <code>Context</code> is a <code>Resource</code>, that allows other <code>Resource</code>s to be registered with it.
 <code>Context</code> defines how <code>Resource</code>s are notified and may provide different guarantees compared to the global <code>Context</code>, such as order of notification.
 A class may extend <code>Context</code> and define custom rules of notification processing by overriding <code>Resource</code> method.
 Since a <code>Context</code> may be registered with other <code>Context</code>, they form a <code>Context</code> hierarchy.
 <p>
 Checkpoint can requested by <code>Core.checkpointRestore</code> or by some other way.
 Then checkpoint notification of the global <code>Context</code> is performed.
 If the global <code>Context</code> have not thrown <code>CheckpointException</code>, the current Java instance is used to create the image in a platform dependent way.
 The current instance is terminated.
 Later, a new instance is created by some means, for example via Java launcher in a special mode.
 The new instance is started at the point where the image was created, it is followed by the restore notification.
 Exceptions from restore notification are provided as suppressed ones by a <code>RestoreException</code> (in a sense of <a href="../../java/lang/Throwable.html#addSuppressed(java.lang.Throwable)"><code>Throwable.addSuppressed(java.lang.Throwable)</code></a>).
 <p>
 If the global <code>Context</code> throws an exception during checkpoint notification then restore notificaion starts immediately without the image creation.
 In this case, exceptions from checkpoint and restore notifications are provided as suppressed ones by <code>CheckpointException</code>.
 <p>
 <code>UnsupportedOperationException</code> is thrown if the service is not supported.
 No notification is performed in this case.
 <h2>Global Context Properties</h2>
 Java Runtime maintains the global <code>Context</code> with following properties.
 An implementor is encouraged to define <code>Context</code> with the properties of the global <code>Context</code>.
 <ul>
 <li>The <code>Context</code> maintains a weak reference to registered <code>Resource</code>.
 </li>
 <li>Order of checkpoint notification is the reverse order of registration.
 Restore notification order is the reverse of checkpoint one, that is, forward order of registration.
 </li>
 <li>For single <code>Resource</code> registered in this <code>Context</code>:
 <ul>
   <li><code>Resource</code> is always notified of checkpoint, regardless of other <code>Resource</code> notifications have thrown an exception or not,
   </li>
   <li><code>Resource</code> is always notified of restore, regardless of its checkpoint or others' restore notification have thrown an exception or not.
   </li>
   <li>When an exception is thrown during notificaion, it is caught by the <code>Context</code> and is suppressed by a <code>CheckpointException</code> or <code>RestoreException</code>, depends on the throwing method.
   </li>
   <li>When the <code>Resource</code> is a <code>Context</code> and it throws <code>CheckpointException</code> or <code>RestoreException</code>, exceptions suppressed by the original exception are suppressed by another <code>CheckpointException</code> or <code>RestoreException</code>, depends on the throwing method.
   </li>
 </ul>
 <li>All exceptions thrown by <code>Resource</code> are suppressed by <code>CheckpointException</code> or <code>RestoreException</code> thrown by the <code>Context</code>.
 </li>
 </ul></div>
<dl class="notes">
<dt>Since:</dt>
<dd>TBD</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab1" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab1', 2)" class="table-tab">Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button><button id="class-summary-tab5" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab5', 2)" class="table-tab">Exceptions</button></div>
<div id="class-summary.tabpanel" role="tabpanel">
<div class="summary-table two-column-summary" aria-labelledby="class-summary-tab0">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab5"><a href="CheckpointException.html" title="class in javax.crac">CheckpointException</a></div>
<div class="col-last even-row-color class-summary class-summary-tab5">
<div class="block">This exception works as an aggregate for all errors found during checkpoint;
 these are recorded as <a href="../../java/lang/Throwable.html#getSuppressed()">suppressed exceptions</a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Context.html" title="class in javax.crac">Context</a>&lt;R extends <a href="Resource.html" title="interface in javax.crac">Resource</a>&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <code>Resource</code> that allows other <code>Resource</code>s to be registered with it.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Core.html" title="class in javax.crac">Core</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">The coordination service.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="Resource.html" title="interface in javax.crac">Resource</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">An interface for receiving checkpoint/restore notifications.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab5"><a href="RestoreException.html" title="class in javax.crac">RestoreException</a></div>
<div class="col-last even-row-color class-summary class-summary-tab5">
<div class="block">This exception works as an aggregate for all errors found during checkpoint;
 these are recorded as <a href="../../java/lang/Throwable.html#getSuppressed()">suppressed exceptions</a>.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase17&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2023, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <br><strong>DRAFT 17-crac+6-21</strong> <!-- Version 17-crac+6-21 --></small></p>
</footer>
</div>
</div>
</body>
</html>
