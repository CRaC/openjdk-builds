<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>CLinker (Java SE 17 &amp; JDK 17 [build 5])</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: jdk.incubator.foreign, package: jdk.incubator.foreign, interface: CLinker">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="jdk.incubator.foreign.CLinker interface">
<meta name="keywords" content="C_CHAR">
<meta name="keywords" content="C_SHORT">
<meta name="keywords" content="C_INT">
<meta name="keywords" content="C_LONG">
<meta name="keywords" content="C_LONG_LONG">
<meta name="keywords" content="C_FLOAT">
<meta name="keywords" content="C_DOUBLE">
<meta name="keywords" content="C_POINTER">
<meta name="keywords" content="C_VA_LIST">
<meta name="keywords" content="getInstance()">
<meta name="keywords" content="systemLookup()">
<meta name="keywords" content="downcallHandle()">
<meta name="keywords" content="upcallStub()">
<meta name="keywords" content="asVarArg()">
<meta name="keywords" content="toCString()">
<meta name="keywords" content="toJavaString()">
<meta name="keywords" content="allocateMemory()">
<meta name="keywords" content="freeMemory()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="padding: 6px; text-align: center; font-size: 80%; font-family: DejaVu Sans, Arial, Helvetica, sans-serif; font-weight: normal;">This specification is not final and is subject to change. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a>.</div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 9px;"><strong>Java SE 17 &amp; JDK 17</strong> <br><strong>DRAFT 17-crac+5-19</strong></div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CLinker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../preview-list.html">Preview</a></li>
<li><a href="../../../../new-list.html">New</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">jdk.incubator.foreign</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jdk.incubator.foreign</a></div>
<h1 title="Interface CLinker" class="title">Interface CLinker</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public sealed interface </span><span class="element-name type-name-label">CLinker</span></div>
<div class="block">A C linker implements the C Application Binary Interface (ABI) calling conventions.
 Instances of this interface can be used to link foreign functions in native libraries that
 follow the JVM's target platform C ABI.
 <p>
 Linking a foreign function is a process which requires two components: a method type, and
 a function descriptor. The method type, consists of a set of <em>carrier</em> types, which, together,
 specify the Java signature which clients must adhere to when calling the underlying foreign function.
 The function descriptor contains a set of memory layouts which, together, specify the foreign function
 signature and classification information (via a custom layout attributes, see <a href="CLinker.TypeKind.html" title="enum class in jdk.incubator.foreign"><code>CLinker.TypeKind</code></a>), so that linking can take place.
 <p>
 Clients of this API can build function descriptors using the predefined memory layout constants
 (based on a subset of the built-in types provided by the C language), found in this interface; alternatively,
 they can also decorate existing value layouts using the required <a href="CLinker.TypeKind.html" title="enum class in jdk.incubator.foreign"><code>CLinker.TypeKind</code></a> classification attribute
 (this can be done using the <a href="MemoryLayout.html#withAttribute(java.lang.String,java.lang.constant.Constable)"><code>MemoryLayout.withAttribute(String, Constable)</code></a> method). A failure to do so might
 result in linkage errors, given that linking requires additional classification information to determine, for instance,
 how arguments should be loaded into registers during a foreign function call.
 <p>
 Implementations of this interface support the following primitive carrier types:
 <code>byte</code>, <code>short</code>, <code>char</code>, <code>int</code>, <code>long</code>, <code>float</code>,
 and <code>double</code>, as well as <a href="MemoryAddress.html" title="interface in jdk.incubator.foreign"><code>MemoryAddress</code></a> for passing pointers, and
 <a href="MemorySegment.html" title="interface in jdk.incubator.foreign"><code>MemorySegment</code></a> for passing structs and unions. Finally, the <a href="CLinker.VaList.html" title="interface in jdk.incubator.foreign"><code>CLinker.VaList</code></a>
 carrier type can be used to match the native <code>va_list</code> type.
 <p>
 For the linking process to be successful, some requirements must be satisfied; if <code>M</code> and <code>F</code> are
 the method type (obtained after dropping any prefix arguments) and the function descriptor, respectively,
 used during the linking process, then it must be that:
 <ul>
     <li>The arity of <code>M</code> is the same as that of <code>F</code>;</li>
     <li>If the return type of <code>M</code> is <code>void</code>, then <code>F</code> should have no return layout
     (see <a href="FunctionDescriptor.html#ofVoid(jdk.incubator.foreign.MemoryLayout...)"><code>FunctionDescriptor.ofVoid(MemoryLayout...)</code></a>);</li>
     <li>for each pair of carrier type <code>C</code> and layout <code>L</code> in <code>M</code> and <code>F</code>, respectively,
     where <code>C</code> and <code>L</code> refer to the same argument, or to the return value, the following conditions must hold:
     <ul>
       <li>If <code>C</code> is a primitve type, then <code>L</code> must be a <code>ValueLayout</code>, and the size of the layout must match
       that of the carrier type (see <a href="../../../../java.base/java/lang/Integer.html#SIZE"><code>Integer.SIZE</code></a> and similar fields in other primitive wrapper classes);</li>
       <li>If <code>C</code> is <code>MemoryAddress.class</code>, then <code>L</code> must be a <code>ValueLayout</code>, and its size must match
       the platform's address size (see <a href="MemoryLayouts.html#ADDRESS"><code>MemoryLayouts.ADDRESS</code></a>). For this purpose, the <a href="#C_POINTER"><code>C_POINTER</code></a> layout
       constant can  be used;</li>
       <li>If <code>C</code> is <code>MemorySegment.class</code>, then <code>L</code> must be a <code>GroupLayout</code></li>
       <li>If <code>C</code> is <code>VaList.class</code>, then <code>L</code> must be <a href="#C_VA_LIST"><code>C_VA_LIST</code></a></li>
     </ul>
     </li>
 </ul>

 <p>Variadic functions, declared in C either with a trailing ellipses (<code>...</code>) at the end of the formal parameter
 list or with an empty formal parameter list, are not supported directly. It is not possible to create a method handle
 that takes a variable number of arguments, and neither is it possible to create an upcall stub wrapping a method
 handle that accepts a variable number of arguments. However, for downcalls only, it is possible to link a native
 variadic function by using a <em>specialized</em> method type and function descriptor: for each argument that is to be
 passed as a variadic argument, an explicit, additional, carrier type and memory layout must be present in the method type and
 function descriptor objects passed to the linker. Furthermore, as memory layouts corresponding to variadic arguments in
 a function descriptor must contain additional classification information, it is required that
 <a href="#asVarArg(T)"><code>asVarArg(MemoryLayout)</code></a> is used to create the memory layouts for each parameter corresponding to a variadic
 argument in a specialized function descriptor.

 <p>On unsupported platforms this class will fail to initialize with an <a href="../../../../java.base/java/lang/ExceptionInInitializerError.html" title="class in java.lang"><code>ExceptionInInitializerError</code></a>.

 <p> Unless otherwise specified, passing a <code>null</code> argument, or an array argument containing one or more <code>null</code>
 elements to a method in this class causes a <a href="../../../../java.base/java/lang/NullPointerException.html" title="class in java.lang"><code>NullPointerException</code></a> to be thrown. </p></div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>Implementations of this interface are immutable, thread-safe and <a href="../../../../java.base/java/lang/doc-files/ValueBased.html">value-based</a>.</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="CLinker.TypeKind.html" class="type-name-link" title="enum class in jdk.incubator.foreign">CLinker.TypeKind</a></code></div>
<div class="col-last even-row-color">
<div class="block">A C type kind.</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="CLinker.VaList.html" class="type-name-link" title="interface in jdk.incubator.foreign">CLinker.VaList</a></code></div>
<div class="col-last odd-row-color">
<div class="block">An interface that models a C <code>va_list</code>.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></code></div>
<div class="col-second even-row-color"><code><a href="#C_CHAR" class="member-name-link">C_CHAR</a></code></div>
<div class="col-last even-row-color">
<div class="block">The layout for the <code>char</code> C type</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></code></div>
<div class="col-second odd-row-color"><code><a href="#C_DOUBLE" class="member-name-link">C_DOUBLE</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The layout for the <code>double</code> C type</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></code></div>
<div class="col-second even-row-color"><code><a href="#C_FLOAT" class="member-name-link">C_FLOAT</a></code></div>
<div class="col-last even-row-color">
<div class="block">The layout for the <code>float</code> C type</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></code></div>
<div class="col-second odd-row-color"><code><a href="#C_INT" class="member-name-link">C_INT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The layout for the <code>int</code> C type</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></code></div>
<div class="col-second even-row-color"><code><a href="#C_LONG" class="member-name-link">C_LONG</a></code></div>
<div class="col-last even-row-color">
<div class="block">The layout for the <code>long</code> C type</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></code></div>
<div class="col-second odd-row-color"><code><a href="#C_LONG_LONG" class="member-name-link">C_LONG_LONG</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The layout for the <code>long long</code> C type.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></code></div>
<div class="col-second even-row-color"><code><a href="#C_POINTER" class="member-name-link">C_POINTER</a></code></div>
<div class="col-last even-row-color">
<div class="block">The <code>T*</code> native type.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></code></div>
<div class="col-second odd-row-color"><code><a href="#C_SHORT" class="member-name-link">C_SHORT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The layout for the <code>short</code> C type</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a></code></div>
<div class="col-second even-row-color"><code><a href="#C_VA_LIST" class="member-name-link">C_VA_LIST</a></code></div>
<div class="col-last even-row-color">
<div class="block">The layout for the <code>va_list</code> C type</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="MemoryAddress.html" title="interface in jdk.incubator.foreign">MemoryAddress</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#allocateMemory(long)" class="member-name-link">allocateMemory</a><wbr>(long&nbsp;size)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Allocates memory of given size using malloc.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static &lt;T extends <a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a>&gt;<br>T</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#asVarArg(T)" class="member-name-link">asVarArg</a><wbr>(T&nbsp;layout)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a memory layout that is suitable to use as the layout for variadic arguments in a specialized
 function descriptor.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../../../java.base/java/lang/invoke/MethodHandle.html" title="class in java.lang.invoke">MethodHandle</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#downcallHandle(java.lang.invoke.MethodType,jdk.incubator.foreign.FunctionDescriptor)" class="member-name-link">downcallHandle</a><wbr>(<a href="../../../../java.base/java/lang/invoke/MethodType.html" title="class in java.lang.invoke">MethodType</a>&nbsp;type,
 <a href="FunctionDescriptor.html" title="class in jdk.incubator.foreign">FunctionDescriptor</a>&nbsp;function)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Obtains a foreign method handle, with the given type and featuring the given function descriptor, which can be
 used to call a target foreign function at an address.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../../../java.base/java/lang/invoke/MethodHandle.html" title="class in java.lang.invoke">MethodHandle</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#downcallHandle(jdk.incubator.foreign.Addressable,java.lang.invoke.MethodType,jdk.incubator.foreign.FunctionDescriptor)" class="member-name-link">downcallHandle</a><wbr>(<a href="Addressable.html" title="interface in jdk.incubator.foreign">Addressable</a>&nbsp;symbol,
 <a href="../../../../java.base/java/lang/invoke/MethodType.html" title="class in java.lang.invoke">MethodType</a>&nbsp;type,
 <a href="FunctionDescriptor.html" title="class in jdk.incubator.foreign">FunctionDescriptor</a>&nbsp;function)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Obtains a foreign method handle, with the given type and featuring the given function descriptor,
 which can be used to call a target foreign function at the given address.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../../../java.base/java/lang/invoke/MethodHandle.html" title="class in java.lang.invoke">MethodHandle</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#downcallHandle(jdk.incubator.foreign.Addressable,jdk.incubator.foreign.SegmentAllocator,java.lang.invoke.MethodType,jdk.incubator.foreign.FunctionDescriptor)" class="member-name-link">downcallHandle</a><wbr>(<a href="Addressable.html" title="interface in jdk.incubator.foreign">Addressable</a>&nbsp;symbol,
 <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a>&nbsp;allocator,
 <a href="../../../../java.base/java/lang/invoke/MethodType.html" title="class in java.lang.invoke">MethodType</a>&nbsp;type,
 <a href="FunctionDescriptor.html" title="class in jdk.incubator.foreign">FunctionDescriptor</a>&nbsp;function)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Obtain a foreign method handle, with the given type and featuring the given function descriptor,
 which can be used to call a target foreign function at the given address.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#freeMemory(jdk.incubator.foreign.MemoryAddress)" class="member-name-link">freeMemory</a><wbr>(<a href="MemoryAddress.html" title="interface in jdk.incubator.foreign">MemoryAddress</a>&nbsp;addr)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Frees the memory pointed by the given memory address.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="CLinker.html" title="interface in jdk.incubator.foreign">CLinker</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#getInstance()" class="member-name-link">getInstance</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns the C linker for the current platform.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SymbolLookup.html" title="interface in jdk.incubator.foreign">SymbolLookup</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#systemLookup()" class="member-name-link">systemLookup</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Obtains a system lookup which is suitable to find symbols in the standard C libraries.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#toCString(java.lang.String,jdk.incubator.foreign.ResourceScope)" class="member-name-link">toCString</a><wbr>(<a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&nbsp;str,
 <a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Converts a Java string into a UTF-8 encoded, null-terminated C string,
 storing the result into a native memory segment associated with the provided resource scope.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#toCString(java.lang.String,jdk.incubator.foreign.SegmentAllocator)" class="member-name-link">toCString</a><wbr>(<a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&nbsp;str,
 <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a>&nbsp;allocator)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Converts a Java string into a UTF-8 encoded, null-terminated C string,
 storing the result into a native memory segment allocated using the provided allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#toJavaString(jdk.incubator.foreign.MemoryAddress)" class="member-name-link">toJavaString</a><wbr>(<a href="MemoryAddress.html" title="interface in jdk.incubator.foreign">MemoryAddress</a>&nbsp;addr)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Converts a UTF-8 encoded, null-terminated C string stored at given address into a Java string.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#toJavaString(jdk.incubator.foreign.MemorySegment)" class="member-name-link">toJavaString</a><wbr>(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;addr)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Converts a UTF-8 encoded, null-terminated C string stored at given address into a Java string.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MemoryAddress.html" title="interface in jdk.incubator.foreign">MemoryAddress</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#upcallStub(java.lang.invoke.MethodHandle,jdk.incubator.foreign.FunctionDescriptor,jdk.incubator.foreign.ResourceScope)" class="member-name-link">upcallStub</a><wbr>(<a href="../../../../java.base/java/lang/invoke/MethodHandle.html" title="class in java.lang.invoke">MethodHandle</a>&nbsp;target,
 <a href="FunctionDescriptor.html" title="class in jdk.incubator.foreign">FunctionDescriptor</a>&nbsp;function,
 <a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Allocates a native stub with given scope which can be passed to other foreign functions (as a function pointer);
 calling such a function pointer from native code will result in the execution of the provided method handle.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="C_CHAR">
<h3>C_CHAR</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></span>&nbsp;<span class="element-name">C_CHAR</span></div>
<div class="block">The layout for the <code>char</code> C type</div>
</section>
</li>
<li>
<section class="detail" id="C_SHORT">
<h3>C_SHORT</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></span>&nbsp;<span class="element-name">C_SHORT</span></div>
<div class="block">The layout for the <code>short</code> C type</div>
</section>
</li>
<li>
<section class="detail" id="C_INT">
<h3>C_INT</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></span>&nbsp;<span class="element-name">C_INT</span></div>
<div class="block">The layout for the <code>int</code> C type</div>
</section>
</li>
<li>
<section class="detail" id="C_LONG">
<h3>C_LONG</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></span>&nbsp;<span class="element-name">C_LONG</span></div>
<div class="block">The layout for the <code>long</code> C type</div>
</section>
</li>
<li>
<section class="detail" id="C_LONG_LONG">
<h3>C_LONG_LONG</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></span>&nbsp;<span class="element-name">C_LONG_LONG</span></div>
<div class="block">The layout for the <code>long long</code> C type.</div>
</section>
</li>
<li>
<section class="detail" id="C_FLOAT">
<h3>C_FLOAT</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></span>&nbsp;<span class="element-name">C_FLOAT</span></div>
<div class="block">The layout for the <code>float</code> C type</div>
</section>
</li>
<li>
<section class="detail" id="C_DOUBLE">
<h3>C_DOUBLE</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></span>&nbsp;<span class="element-name">C_DOUBLE</span></div>
<div class="block">The layout for the <code>double</code> C type</div>
</section>
</li>
<li>
<section class="detail" id="C_POINTER">
<h3>C_POINTER</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a></span>&nbsp;<span class="element-name">C_POINTER</span></div>
<div class="block">The <code>T*</code> native type.</div>
</section>
</li>
<li>
<section class="detail" id="C_VA_LIST">
<h3>C_VA_LIST</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a></span>&nbsp;<span class="element-name">C_VA_LIST</span></div>
<div class="block">The layout for the <code>va_list</code> C type</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getInstance()">
<h3>getInstance</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="CLinker.html" title="interface in jdk.incubator.foreign">CLinker</a></span>&nbsp;<span class="element-name">getInstance</span>()</div>
<div class="block">Returns the C linker for the current platform.
 <p>
 This method is <a href="package-summary.html#restricted"><em>restricted</em></a>.
 Restricted methods are unsafe, and, if used incorrectly, their use might crash
 the JVM or, worse, silently result in memory corruption. Thus, clients should refrain from depending on
 restricted methods, and use safe and supported functionalities, where possible.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a linker for this system.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalCallerException.html" title="class in java.lang">IllegalCallerException</a></code> - if access to this method occurs from a module <code>M</code> and the command line option
 <code>--enable-native-access</code> is either absent, or does not mention the module name <code>M</code>, or
 <code>ALL-UNNAMED</code> in case <code>M</code> is an unnamed module.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="systemLookup()">
<h3>systemLookup</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SymbolLookup.html" title="interface in jdk.incubator.foreign">SymbolLookup</a></span>&nbsp;<span class="element-name">systemLookup</span>()</div>
<div class="block">Obtains a system lookup which is suitable to find symbols in the standard C libraries. The set of symbols
 available for lookup is unspecified, as it depends on the platform and on the operating system.
 <p>
 This method is <a href="package-summary.html#restricted"><em>restricted</em></a>.
 Restricted methods are unsafe, and, if used incorrectly, their use might crash
 the JVM or, worse, silently result in memory corruption. Thus, clients should refrain from depending on
 restricted methods, and use safe and supported functionalities, where possible.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a system-specific library lookup which is suitable to find symbols in the standard C libraries.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalCallerException.html" title="class in java.lang">IllegalCallerException</a></code> - if access to this method occurs from a module <code>M</code> and the command line option
 <code>--enable-native-access</code> is either absent, or does not mention the module name <code>M</code>, or
 <code>ALL-UNNAMED</code> in case <code>M</code> is an unnamed module.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="downcallHandle(jdk.incubator.foreign.Addressable,java.lang.invoke.MethodType,jdk.incubator.foreign.FunctionDescriptor)">
<h3>downcallHandle</h3>
<div class="member-signature"><span class="return-type"><a href="../../../../java.base/java/lang/invoke/MethodHandle.html" title="class in java.lang.invoke">MethodHandle</a></span>&nbsp;<span class="element-name">downcallHandle</span><wbr><span class="parameters">(<a href="Addressable.html" title="interface in jdk.incubator.foreign">Addressable</a>&nbsp;symbol,
 <a href="../../../../java.base/java/lang/invoke/MethodType.html" title="class in java.lang.invoke">MethodType</a>&nbsp;type,
 <a href="FunctionDescriptor.html" title="class in jdk.incubator.foreign">FunctionDescriptor</a>&nbsp;function)</span></div>
<div class="block">Obtains a foreign method handle, with the given type and featuring the given function descriptor,
 which can be used to call a target foreign function at the given address.
 <p>
 If the provided method type's return type is <code>MemorySegment</code>, then the resulting method handle features
 an additional prefix parameter, of type <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign"><code>SegmentAllocator</code></a>, which will be used by the linker runtime
 to allocate structs returned by-value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>symbol</code> - downcall symbol.</dd>
<dd><code>type</code> - the method type.</dd>
<dd><code>function</code> - the function descriptor.</dd>
<dt>Returns:</dt>
<dd>the downcall method handle.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - in the case of a method type and function descriptor mismatch, or if the symbol
                                  is <a href="MemoryAddress.html#NULL"><code>MemoryAddress.NULL</code></a></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="SymbolLookup.html" title="interface in jdk.incubator.foreign"><code>SymbolLookup</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="downcallHandle(jdk.incubator.foreign.Addressable,jdk.incubator.foreign.SegmentAllocator,java.lang.invoke.MethodType,jdk.incubator.foreign.FunctionDescriptor)">
<h3>downcallHandle</h3>
<div class="member-signature"><span class="return-type"><a href="../../../../java.base/java/lang/invoke/MethodHandle.html" title="class in java.lang.invoke">MethodHandle</a></span>&nbsp;<span class="element-name">downcallHandle</span><wbr><span class="parameters">(<a href="Addressable.html" title="interface in jdk.incubator.foreign">Addressable</a>&nbsp;symbol,
 <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a>&nbsp;allocator,
 <a href="../../../../java.base/java/lang/invoke/MethodType.html" title="class in java.lang.invoke">MethodType</a>&nbsp;type,
 <a href="FunctionDescriptor.html" title="class in jdk.incubator.foreign">FunctionDescriptor</a>&nbsp;function)</span></div>
<div class="block">Obtain a foreign method handle, with the given type and featuring the given function descriptor,
 which can be used to call a target foreign function at the given address.
 <p>
 If the provided method type's return type is <code>MemorySegment</code>, then the provided allocator will be used by
 the linker runtime to allocate structs returned by-value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>symbol</code> - downcall symbol.</dd>
<dd><code>allocator</code> - the segment allocator.</dd>
<dd><code>type</code> - the method type.</dd>
<dd><code>function</code> - the function descriptor.</dd>
<dt>Returns:</dt>
<dd>the downcall method handle.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - in the case of a method type and function descriptor mismatch, or if the symbol
                                  is <a href="MemoryAddress.html#NULL"><code>MemoryAddress.NULL</code></a></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="SymbolLookup.html" title="interface in jdk.incubator.foreign"><code>SymbolLookup</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="downcallHandle(java.lang.invoke.MethodType,jdk.incubator.foreign.FunctionDescriptor)">
<h3>downcallHandle</h3>
<div class="member-signature"><span class="return-type"><a href="../../../../java.base/java/lang/invoke/MethodHandle.html" title="class in java.lang.invoke">MethodHandle</a></span>&nbsp;<span class="element-name">downcallHandle</span><wbr><span class="parameters">(<a href="../../../../java.base/java/lang/invoke/MethodType.html" title="class in java.lang.invoke">MethodType</a>&nbsp;type,
 <a href="FunctionDescriptor.html" title="class in jdk.incubator.foreign">FunctionDescriptor</a>&nbsp;function)</span></div>
<div class="block">Obtains a foreign method handle, with the given type and featuring the given function descriptor, which can be
 used to call a target foreign function at an address.
 The resulting method handle features a prefix parameter (as the first parameter) corresponding to the address, of
 type <a href="Addressable.html" title="interface in jdk.incubator.foreign"><code>Addressable</code></a>.
 <p>
 If the provided method type's return type is <code>MemorySegment</code>, then the resulting method handle features an
 additional prefix parameter (inserted immediately after the address parameter), of type <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign"><code>SegmentAllocator</code></a>),
 which will be used by the linker runtime to allocate structs returned by-value.
 <p>
 The returned method handle will throw an <a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang"><code>IllegalArgumentException</code></a> if the target address passed to it is
 <a href="MemoryAddress.html#NULL"><code>MemoryAddress.NULL</code></a>, or a <a href="../../../../java.base/java/lang/NullPointerException.html" title="class in java.lang"><code>NullPointerException</code></a> if the target address is <code>null</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - the method type.</dd>
<dd><code>function</code> - the function descriptor.</dd>
<dt>Returns:</dt>
<dd>the downcall method handle.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - in the case of a method type and function descriptor mismatch.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="SymbolLookup.html" title="interface in jdk.incubator.foreign"><code>SymbolLookup</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="upcallStub(java.lang.invoke.MethodHandle,jdk.incubator.foreign.FunctionDescriptor,jdk.incubator.foreign.ResourceScope)">
<h3>upcallStub</h3>
<div class="member-signature"><span class="return-type"><a href="MemoryAddress.html" title="interface in jdk.incubator.foreign">MemoryAddress</a></span>&nbsp;<span class="element-name">upcallStub</span><wbr><span class="parameters">(<a href="../../../../java.base/java/lang/invoke/MethodHandle.html" title="class in java.lang.invoke">MethodHandle</a>&nbsp;target,
 <a href="FunctionDescriptor.html" title="class in jdk.incubator.foreign">FunctionDescriptor</a>&nbsp;function,
 <a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</span></div>
<div class="block">Allocates a native stub with given scope which can be passed to other foreign functions (as a function pointer);
 calling such a function pointer from native code will result in the execution of the provided method handle.

 <p>
 The returned memory address is associated with the provided scope. When such scope is closed,
 the corresponding native stub will be deallocated.
 <p>
 The target method handle should not throw any exceptions. If the target method handle does throw an exception,
 the VM will exit with a non-zero exit code. To avoid the VM aborting due to an uncaught exception, clients
 could wrap all code in the target method handle in a try/catch block that catches any <a href="../../../../java.base/java/lang/Throwable.html" title="class in java.lang"><code>Throwable</code></a>, for
 instance by using the <a href="../../../../java.base/java/lang/invoke/MethodHandles.html#catchException(java.lang.invoke.MethodHandle,java.lang.Class,java.lang.invoke.MethodHandle)"><code>MethodHandles.catchException(MethodHandle, Class, MethodHandle)</code></a>
 method handle combinator, and handle exceptions as desired in the corresponding catch block.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>target</code> - the target method handle.</dd>
<dd><code>function</code> - the function descriptor.</dd>
<dd><code>scope</code> - the upcall stub scope.</dd>
<dt>Returns:</dt>
<dd>the native stub segment.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the target's method type and the function descriptor mismatch.</dd>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if <code>scope</code> has been already closed, or if access occurs from a thread other
 than the thread owning <code>scope</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="asVarArg(T)">
<h3 id="asVarArg(jdk.incubator.foreign.MemoryLayout)">asVarArg</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="type-parameters">&lt;T extends <a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a>&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">asVarArg</span><wbr><span class="parameters">(T&nbsp;layout)</span></div>
<div class="block">Returns a memory layout that is suitable to use as the layout for variadic arguments in a specialized
 function descriptor.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the memory layout type</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout the adapt</dd>
<dt>Returns:</dt>
<dd>a potentially newly created layout with the right attributes</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toCString(java.lang.String,jdk.incubator.foreign.SegmentAllocator)">
<h3>toCString</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">toCString</span><wbr><span class="parameters">(<a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&nbsp;str,
 <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a>&nbsp;allocator)</span></div>
<div class="block">Converts a Java string into a UTF-8 encoded, null-terminated C string,
 storing the result into a native memory segment allocated using the provided allocator.
 <p>
 This method always replaces malformed-input and unmappable-character
 sequences with this charset's default replacement byte array.  The
 <a href="../../../../java.base/java/nio/charset/CharsetEncoder.html" title="class in java.nio.charset"><code>CharsetEncoder</code></a> class should be used when more
 control over the encoding process is required.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>str</code> - the Java string to be converted into a C string.</dd>
<dd><code>allocator</code> - the allocator to be used for the native segment allocation.</dd>
<dt>Returns:</dt>
<dd>a new native memory segment containing the converted C string.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toCString(java.lang.String,jdk.incubator.foreign.ResourceScope)">
<h3>toCString</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">toCString</span><wbr><span class="parameters">(<a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&nbsp;str,
 <a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</span></div>
<div class="block">Converts a Java string into a UTF-8 encoded, null-terminated C string,
 storing the result into a native memory segment associated with the provided resource scope.
 <p>
 This method always replaces malformed-input and unmappable-character
 sequences with this charset's default replacement byte array.  The
 <a href="../../../../java.base/java/nio/charset/CharsetEncoder.html" title="class in java.nio.charset"><code>CharsetEncoder</code></a> class should be used when more
 control over the encoding process is required.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>str</code> - the Java string to be converted into a C string.</dd>
<dd><code>scope</code> - the resource scope to be associated with the returned segment.</dd>
<dt>Returns:</dt>
<dd>a new native memory segment containing the converted C string.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if <code>scope</code> has been already closed, or if access occurs from a thread other
 than the thread owning <code>scope</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toJavaString(jdk.incubator.foreign.MemoryAddress)">
<h3>toJavaString</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a></span>&nbsp;<span class="element-name">toJavaString</span><wbr><span class="parameters">(<a href="MemoryAddress.html" title="interface in jdk.incubator.foreign">MemoryAddress</a>&nbsp;addr)</span></div>
<div class="block">Converts a UTF-8 encoded, null-terminated C string stored at given address into a Java string.
 <p>
 This method always replaces malformed-input and unmappable-character
 sequences with this charset's default replacement string.  The <a href="../../../../java.base/java/nio/charset/CharsetDecoder.html" title="class in java.nio.charset"><code>CharsetDecoder</code></a> class should be used when more control
 over the decoding process is required.
 <p>
 This method is <a href="package-summary.html#restricted"><em>restricted</em></a>.
 Restricted methods are unsafe, and, if used incorrectly, their use might crash
 the JVM or, worse, silently result in memory corruption. Thus, clients should refrain from depending on
 restricted methods, and use safe and supported functionalities, where possible.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>addr</code> - the address at which the string is stored.</dd>
<dt>Returns:</dt>
<dd>a Java string with the contents of the null-terminated C string at given address.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the size of the native string is greater than the largest string supported by the platform,
 or if <code>addr == MemoryAddress.NULL</code>.</dd>
<dd><code><a href="../../../../java.base/java/lang/IllegalCallerException.html" title="class in java.lang">IllegalCallerException</a></code> - if access to this method occurs from a module <code>M</code> and the command line option
 <code>--enable-native-access</code> is either absent, or does not mention the module name <code>M</code>, or
 <code>ALL-UNNAMED</code> in case <code>M</code> is an unnamed module.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toJavaString(jdk.incubator.foreign.MemorySegment)">
<h3>toJavaString</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a></span>&nbsp;<span class="element-name">toJavaString</span><wbr><span class="parameters">(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;addr)</span></div>
<div class="block">Converts a UTF-8 encoded, null-terminated C string stored at given address into a Java string.
 <p>
 This method always replaces malformed-input and unmappable-character
 sequences with this charset's default replacement string.  The <a href="../../../../java.base/java/nio/charset/CharsetDecoder.html" title="class in java.nio.charset"><code>CharsetDecoder</code></a> class should be used when more control
 over the decoding process is required.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>addr</code> - the address at which the string is stored.</dd>
<dt>Returns:</dt>
<dd>a Java string with the contents of the null-terminated C string at given address.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the size of the native string is greater than the largest string supported by the platform.</dd>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the size of the native string is greater than the size of the segment
 associated with <code>addr</code>, or if <code>addr</code> is associated with a segment that is <em>not alive</em>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateMemory(long)">
<h3>allocateMemory</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="MemoryAddress.html" title="interface in jdk.incubator.foreign">MemoryAddress</a></span>&nbsp;<span class="element-name">allocateMemory</span><wbr><span class="parameters">(long&nbsp;size)</span></div>
<div class="block">Allocates memory of given size using malloc.
 <p>
 This method is <a href="package-summary.html#restricted"><em>restricted</em></a>.
 Restricted methods are unsafe, and, if used incorrectly, their use might crash
 the JVM or, worse, silently result in memory corruption. Thus, clients should refrain from depending on
 restricted methods, and use safe and supported functionalities, where possible.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>size</code> - memory size to be allocated</dd>
<dt>Returns:</dt>
<dd>addr memory address of the allocated memory</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/OutOfMemoryError.html" title="class in java.lang">OutOfMemoryError</a></code> - if malloc could not allocate the required amount of native memory.</dd>
<dd><code><a href="../../../../java.base/java/lang/IllegalCallerException.html" title="class in java.lang">IllegalCallerException</a></code> - if access to this method occurs from a module <code>M</code> and the command line option
 <code>--enable-native-access</code> is either absent, or does not mention the module name <code>M</code>, or
 <code>ALL-UNNAMED</code> in case <code>M</code> is an unnamed module.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="freeMemory(jdk.incubator.foreign.MemoryAddress)">
<h3>freeMemory</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">freeMemory</span><wbr><span class="parameters">(<a href="MemoryAddress.html" title="interface in jdk.incubator.foreign">MemoryAddress</a>&nbsp;addr)</span></div>
<div class="block">Frees the memory pointed by the given memory address.
 <p>
 This method is <a href="package-summary.html#restricted"><em>restricted</em></a>.
 Restricted methods are unsafe, and, if used incorrectly, their use might crash
 the JVM or, worse, silently result in memory corruption. Thus, clients should refrain from depending on
 restricted methods, and use safe and supported functionalities, where possible.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>addr</code> - memory address of the native memory to be freed</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalCallerException.html" title="class in java.lang">IllegalCallerException</a></code> - if access to this method occurs from a module <code>M</code> and the command line option</dd>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>addr == MemoryAddress.NULL</code>.
 <code>--enable-native-access</code> is either absent, or does not mention the module name <code>M</code>, or
 <code>ALL-UNNAMED</code> in case <code>M</code> is an unnamed module.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase17&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2023, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <br><strong>DRAFT 17-crac+5-19</strong> <!-- Version 17-crac+5-19 --></small></p>
</footer>
</div>
</div>
</body>
</html>
