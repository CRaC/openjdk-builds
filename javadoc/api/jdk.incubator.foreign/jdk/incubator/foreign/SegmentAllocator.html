<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>SegmentAllocator (Java SE 17 &amp; JDK 17 [build 6])</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: jdk.incubator.foreign, package: jdk.incubator.foreign, interface: SegmentAllocator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="jdk.incubator.foreign.SegmentAllocator interface">
<meta name="keywords" content="allocate()">
<meta name="keywords" content="allocateArray()">
<meta name="keywords" content="arenaAllocator()">
<meta name="keywords" content="ofSegment()">
<meta name="keywords" content="ofScope()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="padding: 6px; text-align: center; font-size: 80%; font-family: DejaVu Sans, Arial, Helvetica, sans-serif; font-weight: normal;">This specification is not final and is subject to change. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a>.</div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 9px;"><strong>Java SE 17 &amp; JDK 17</strong> <br><strong>DRAFT 17-crac+6-21</strong></div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/SegmentAllocator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../preview-list.html">Preview</a></li>
<li><a href="../../../../new-list.html">New</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">jdk.incubator.foreign</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jdk.incubator.foreign</a></div>
<h1 title="Interface SegmentAllocator" class="title">Interface SegmentAllocator</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Functional Interface:</dt>
<dd>This is a functional interface and can therefore be used as the assignment target for a lambda expression or method reference.</dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations"><a href="../../../../java.base/java/lang/FunctionalInterface.html" title="annotation interface in java.lang">@FunctionalInterface</a>
</span><span class="modifiers">public interface </span><span class="element-name type-name-label">SegmentAllocator</span></div>
<div class="block">This interface models a memory allocator. Clients implementing this interface
 must implement the <a href="#allocate(long,long)"><code>allocate(long, long)</code></a> method. This interface defines several default methods
 which can be useful to create segments from several kinds of Java values such as primitives and arrays.
 This interface can be seen as a thin wrapper around the basic capabilities for creating native segments
 (e.g. <a href="MemorySegment.html#allocateNative(long,long,jdk.incubator.foreign.ResourceScope)"><code>MemorySegment.allocateNative(long, long, ResourceScope)</code></a>); since <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign"><code>SegmentAllocator</code></a> is a <em>functional interface</em>,
 clients can easily obtain a native allocator by using either a lambda expression or a method reference.
 <p>
 This interface provides a factory, namely <a href="#ofScope(jdk.incubator.foreign.ResourceScope)"><code>ofScope(ResourceScope)</code></a> which can be used to obtain
 a <em>scoped</em> allocator, that is, an allocator which creates segment bound by a given scope. This can be useful
 when working inside a <em>try-with-resources</em> construct:

 <blockquote><pre><code>
try (ResourceScope scope = ResourceScope.newConfinedScope()) {
   SegmentAllocator allocator = SegmentAllocator.ofScope(scope);
   ...
}
 </code></pre></blockquote>

 In addition, this interface also defines factories for commonly used allocators; for instance <a href="#arenaAllocator(jdk.incubator.foreign.ResourceScope)"><code>arenaAllocator(ResourceScope)</code></a>
 and <a href="#arenaAllocator(long,jdk.incubator.foreign.ResourceScope)"><code>arenaAllocator(long, ResourceScope)</code></a> are arena-style native allocators. Finally <a href="#ofSegment(jdk.incubator.foreign.MemorySegment)"><code>ofSegment(MemorySegment)</code></a>
 returns an allocator which wraps a segment (either on-heap or off-heap) and recycles its content upon each new allocation request.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(long)" class="member-name-link">allocate</a><wbr>(long&nbsp;bytesSize)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given size, with default alignment (1-byte aligned).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#allocate(long,long)" class="member-name-link">allocate</a><wbr>(long&nbsp;bytesSize,
 long&nbsp;bytesAlignment)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Allocate a block of memory  with given size and alignment constraint.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.MemoryLayout)" class="member-name-link">allocate</a><wbr>(<a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a>&nbsp;layout)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory  with given layout.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout,byte)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 byte&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given byte value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout,char)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 char&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given char value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout,double)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 double&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given double value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout,float)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 float&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given float value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout,int)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 int&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given int value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout,long)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 long&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given long value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout,short)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 short&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given short value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout,jdk.incubator.foreign.Addressable)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 <a href="Addressable.html" title="interface in jdk.incubator.foreign">Addressable</a>&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given address value
 (expressed as an <a href="Addressable.html" title="interface in jdk.incubator.foreign"><code>Addressable</code></a> instance).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.MemoryLayout,long)" class="member-name-link">allocateArray</a><wbr>(<a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a>&nbsp;elementLayout,
 long&nbsp;count)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory corresponding to an array with given element layout and size.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout,byte%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 byte[]&nbsp;array)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given byte array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout,char%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 char[]&nbsp;array)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given char array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout,double%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 double[]&nbsp;array)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given double array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout,float%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 float[]&nbsp;array)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given float array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout,int%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 int[]&nbsp;array)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given int array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout,long%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 long[]&nbsp;array)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given long array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout,short%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 short[]&nbsp;array)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given short array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout,jdk.incubator.foreign.Addressable%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 <a href="Addressable.html" title="interface in jdk.incubator.foreign">Addressable</a>[]&nbsp;array)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a block of memory with given layout and initialize it with given address array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#arenaAllocator(long,jdk.incubator.foreign.ResourceScope)" class="member-name-link">arenaAllocator</a><wbr>(long&nbsp;size,
 <a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a native arena-based allocator which allocates a single memory segment, of given size (using malloc),
 and then responds to allocation request by returning different slices of that same segment
 (until no further allocation is possible).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#arenaAllocator(jdk.incubator.foreign.ResourceScope)" class="member-name-link">arenaAllocator</a><wbr>(<a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a native unbounded arena-based allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#ofScope(jdk.incubator.foreign.ResourceScope)" class="member-name-link">ofScope</a><wbr>(<a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a native allocator which responds to allocation requests by allocating new segments
 bound by the given resource scope, using the <a href="MemorySegment.html#allocateNative(long,long,jdk.incubator.foreign.ResourceScope)"><code>MemorySegment.allocateNative(long, long, ResourceScope)</code></a>
 factory.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#ofSegment(jdk.incubator.foreign.MemorySegment)" class="member-name-link">ofSegment</a><wbr>(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;segment)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a segment allocator which responds to allocation requests by recycling a single segment; that is,
 each new allocation request will return a new slice starting at the segment offset <code>0</code> (alignment
 constraints are ignored by this allocator).</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout,byte)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 byte&nbsp;value)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given byte value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>layout.byteSize()</code> does not conform to the size of a byte value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout,char)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 char&nbsp;value)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given char value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>layout.byteSize()</code> does not conform to the size of a char value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout,short)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 short&nbsp;value)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given short value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>layout.byteSize()</code> does not conform to the size of a short value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout,int)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 int&nbsp;value)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given int value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>layout.byteSize()</code> does not conform to the size of a int value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout,float)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 float&nbsp;value)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given float value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>layout.byteSize()</code> does not conform to the size of a float value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout,long)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 long&nbsp;value)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given long value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>layout.byteSize()</code> does not conform to the size of a long value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout,double)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 double&nbsp;value)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given double value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>layout.byteSize()</code> does not conform to the size of a double value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout,jdk.incubator.foreign.Addressable)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;layout,
 <a href="Addressable.html" title="interface in jdk.incubator.foreign">Addressable</a>&nbsp;value)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given address value
 (expressed as an <a href="Addressable.html" title="interface in jdk.incubator.foreign"><code>Addressable</code></a> instance).
 The address value might be narrowed according to the platform address size (see <a href="MemoryLayouts.html#ADDRESS"><code>MemoryLayouts.ADDRESS</code></a>).</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>layout.byteSize() != MemoryLayouts.ADDRESS.byteSize()</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout,byte[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 byte[]&nbsp;array)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given byte array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>elementLayout.byteSize()</code> does not conform to the size of a byte value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout,short[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 short[]&nbsp;array)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given short array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>elementLayout.byteSize()</code> does not conform to the size of a short value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout,char[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 char[]&nbsp;array)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given char array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>elementLayout.byteSize()</code> does not conform to the size of a char value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout,int[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 int[]&nbsp;array)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given int array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>elementLayout.byteSize()</code> does not conform to the size of a int value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout,float[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 float[]&nbsp;array)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given float array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>elementLayout.byteSize()</code> does not conform to the size of a float value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout,long[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 long[]&nbsp;array)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given long array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>elementLayout.byteSize()</code> does not conform to the size of a long value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout,double[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 double[]&nbsp;array)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given double array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>elementLayout.byteSize()</code> does not conform to the size of a double value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout,jdk.incubator.foreign.Addressable[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.html" title="class in jdk.incubator.foreign">ValueLayout</a>&nbsp;elementLayout,
 <a href="Addressable.html" title="interface in jdk.incubator.foreign">Addressable</a>[]&nbsp;array)</span></div>
<div class="block">Allocate a block of memory with given layout and initialize it with given address array.
 The address value of each array element might be narrowed according to the platform address size (see <a href="MemoryLayouts.html#ADDRESS"><code>MemoryLayouts.ADDRESS</code></a>).</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>layout.byteSize() != MemoryLayouts.ADDRESS.byteSize()</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.MemoryLayout)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a>&nbsp;layout)</span></div>
<div class="block">Allocate a block of memory  with given layout.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout.byteSize(), layout.byteAlignment())</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.MemoryLayout,long)">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a>&nbsp;elementLayout,
 long&nbsp;count)</span></div>
<div class="block">Allocate a block of memory corresponding to an array with given element layout and size.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(MemoryLayout.sequenceLayout(count, elementLayout))</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the array element layout.</dd>
<dd><code>count</code> - the array element count.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(long)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(long&nbsp;bytesSize)</span></div>
<div class="block">Allocate a block of memory with given size, with default alignment (1-byte aligned).</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(bytesSize, 1)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>bytesSize</code> - the size (in bytes) of the block of memory to be allocated.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(long,long)">
<h3>allocate</h3>
<div class="member-signature"><span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(long&nbsp;bytesSize,
 long&nbsp;bytesAlignment)</span></div>
<div class="block">Allocate a block of memory  with given size and alignment constraint.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bytesSize</code> - the size (in bytes) of the block of memory to be allocated.</dd>
<dd><code>bytesAlignment</code> - the alignment (in bytes) of the block of memory to be allocated.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="arenaAllocator(long,jdk.incubator.foreign.ResourceScope)">
<h3>arenaAllocator</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></span>&nbsp;<span class="element-name">arenaAllocator</span><wbr><span class="parameters">(long&nbsp;size,
 <a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</span></div>
<div class="block">Returns a native arena-based allocator which allocates a single memory segment, of given size (using malloc),
 and then responds to allocation request by returning different slices of that same segment
 (until no further allocation is possible).
 This can be useful when clients want to perform multiple allocation requests while avoiding the cost associated
 with allocating a new off-heap memory region upon each allocation request.
 <p>
 An allocator associated with a <em>shared</em> resource scope is thread-safe and allocation requests may be
 performed concurrently; conversely, if the arena allocator is associated with a <em>confined</em> resource scope,
 allocation requests can only occur from the thread owning the allocator's resource scope.
 <p>
 The returned allocator might throw an <a href="../../../../java.base/java/lang/OutOfMemoryError.html" title="class in java.lang"><code>OutOfMemoryError</code></a> if an incoming allocation request exceeds
 the allocator capacity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>size</code> - the size (in bytes) of the allocation arena.</dd>
<dd><code>scope</code> - the scope associated with the segments returned by this allocator.</dd>
<dt>Returns:</dt>
<dd>a new bounded arena-based allocator</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>size &lt;= 0</code>.</dd>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if <code>scope</code> has been already closed, or if access occurs from a thread other
 than the thread owning <code>scope</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="arenaAllocator(jdk.incubator.foreign.ResourceScope)">
<h3>arenaAllocator</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></span>&nbsp;<span class="element-name">arenaAllocator</span><wbr><span class="parameters">(<a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</span></div>
<div class="block">Returns a native unbounded arena-based allocator.
 <p>
 The returned allocator allocates a memory segment <code>S</code> of a certain fixed size (using malloc) and then
 responds to allocation requests in one of the following ways:
 <ul>
     <li>if the size of the allocation requests is smaller than the size of <code>S</code>, and <code>S</code> has a <em>free</em>
     slice <code>S'</code> which fits that allocation request, return that <code>S'</code>.
     <li>if the size of the allocation requests is smaller than the size of <code>S</code>, and <code>S</code> has no <em>free</em>
     slices which fits that allocation request, allocate a new segment <code>S'</code> (using malloc), which has same size as <code>S</code>
     and set <code>S = S'</code>; the allocator then tries to respond to the same allocation request again.
     <li>if the size of the allocation requests is bigger than the size of <code>S</code>, allocate a new segment <code>S'</code>
     (using malloc), which has a sufficient size to satisfy the allocation request, and return <code>S'</code>.
 </ul>
 <p>
 This segment allocator can be useful when clients want to perform multiple allocation requests while avoiding the
 cost associated with allocating a new off-heap memory region upon each allocation request.
 <p>
 An allocator associated with a <em>shared</em> resource scope is thread-safe and allocation requests may be
 performed concurrently; conversely, if the arena allocator is associated with a <em>confined</em> resource scope,
 allocation requests can only occur from the thread owning the allocator's resource scope.
 <p>
 The returned allocator might throw an <a href="../../../../java.base/java/lang/OutOfMemoryError.html" title="class in java.lang"><code>OutOfMemoryError</code></a> if an incoming allocation request exceeds
 the system capacity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>scope</code> - the scope associated with the segments returned by this allocator.</dd>
<dt>Returns:</dt>
<dd>a new unbounded arena-based allocator</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if <code>scope</code> has been already closed, or if access occurs from a thread other
 than the thread owning <code>scope</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ofSegment(jdk.incubator.foreign.MemorySegment)">
<h3>ofSegment</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></span>&nbsp;<span class="element-name">ofSegment</span><wbr><span class="parameters">(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;segment)</span></div>
<div class="block">Returns a segment allocator which responds to allocation requests by recycling a single segment; that is,
 each new allocation request will return a new slice starting at the segment offset <code>0</code> (alignment
 constraints are ignored by this allocator). This can be useful to limit allocation requests in case a client
 knows that they have fully processed the contents of the allocated segment before the subsequent allocation request
 takes place.
 <p>
 While the allocator returned by this method is <em>thread-safe</em>, concurrent access on the same recycling
 allocator might cause a thread to overwrite contents written to the underlying segment by a different thread.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segment</code> - the memory segment to be recycled by the returned allocator.</dd>
<dt>Returns:</dt>
<dd>an allocator which recycles an existing segment upon each new allocation request.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ofScope(jdk.incubator.foreign.ResourceScope)">
<h3>ofScope</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></span>&nbsp;<span class="element-name">ofScope</span><wbr><span class="parameters">(<a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</span></div>
<div class="block">Returns a native allocator which responds to allocation requests by allocating new segments
 bound by the given resource scope, using the <a href="MemorySegment.html#allocateNative(long,long,jdk.incubator.foreign.ResourceScope)"><code>MemorySegment.allocateNative(long, long, ResourceScope)</code></a>
 factory. This code is equivalent (but likely more efficient) to the following:
 <blockquote><pre><code>
    Resource scope = ...
    SegmentAllocator scoped = (size, align) -&gt; MemorySegment.allocateNative(size, align, scope);
 </code></pre></blockquote></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>scope</code> - the resource scope associated with the segments created by the returned allocator.</dd>
<dt>Returns:</dt>
<dd>an allocator which allocates new memory segment bound by the provided resource scope.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase17&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2023, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <br><strong>DRAFT 17-crac+6-21</strong> <!-- Version 17-crac+6-21 --></small></p>
</footer>
</div>
</div>
</body>
</html>
