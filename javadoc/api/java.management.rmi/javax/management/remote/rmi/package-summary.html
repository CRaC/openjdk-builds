<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>javax.management.remote.rmi (Java SE 17 &amp; JDK 17 [build 6])</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: java.management.rmi, package: javax.management.remote.rmi">
<meta name="generator" content="javadoc/PackageWriterImpl">
<meta name="keywords" content="javax.management.remote.rmi package">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="padding: 6px; text-align: center; font-size: 80%; font-family: DejaVu Sans, Arial, Helvetica, sans-serif; font-weight: normal;">This specification is not final and is subject to change. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a>.</div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 9px;"><strong>Java SE 17 &amp; JDK 17</strong> <br><strong>DRAFT 17-crac+6-21</strong></div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="../../../../module-summary.html">Module</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../preview-list.html">Preview</a></li>
<li><a href="../../../../../new-list.html">New</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<div class="sub-title"><span class="module-label-in-package">Module</span>&nbsp;<a href="../../../../module-summary.html">java.management.rmi</a></div>
<h1 title="Package javax.management.remote.rmi" class="title">Package javax.management.remote.rmi</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">javax.management.remote.rmi</span></div>
<section class="package-description" id="package-description">
<div class="block"><p>The RMI connector is a connector for the JMX Remote API that
      uses RMI to transmit client requests to a remote MBean server.
      This package defines the classes that the user of an RMI
      connector needs to reference directly, for both the client and
      server sides.  It also defines certain classes that the user
      will not usually reference directly, but that must be defined so
      that different implementations of the RMI connector can
      interoperate.</p>

    <p>The RMI connector supports the JRMP transport for RMI.</p>

    <p>Like most connectors in the JMX Remote API, an RMI connector
      usually has an address, which
      is a <a href="../../../../../java.management/javax/management/remote/JMXServiceURL.html" title="class in javax.management.remote"><code>JMXServiceURL</code></a>.  The protocol part of this address is
      <code>rmi</code> for a connector that uses the default RMI
      transport (JRMP).</p>

    <p>There are two forms for RMI connector addresses:</p>

    <ul>
      <li>
        In the <em>JNDI form</em>, the URL indicates <em>where to find
        an RMI stub for the connector</em>.  This RMI stub is a Java
        object of type <a href="RMIServer.html" title="interface in javax.management.remote.rmi"><code>RMIServer</code></a> that gives remote access to the connector server.
        With this address form, the RMI stub is obtained from an
        external directory entry included in the URL.  An external
        directory is any directory recognized by <a href="../../../../../java.naming/javax/naming/package-summary.html"><code>JNDI</code></a>, typically the RMI registry, LDAP, or COS Naming.

      <li>
        In the <em>encoded form</em>, the URL directly includes the
        information needed to connect to the connector server.  When
        using RMI/JRMP, the encoded form is the serialized RMI stub
        for the server object, encoded using BASE64 without embedded
        newlines.
    </ul>

    <p>Addresses are covered in more detail below.</p>


    <h2>Creating an RMI connector server</h2>

    <p>The usual way to create an RMI connector server is to supply an
      RMI connector address to the method <a href="../../../../../java.management/javax/management/remote/JMXConnectorServerFactory.html#newJMXConnectorServer(javax.management.remote.JMXServiceURL,java.util.Map,javax.management.MBeanServer)"><code>JMXConnectorServerFactory.newJMXConnectorServer</code></a>.  The MBean
      server to which the connector server is attached can be
      specified as a parameter to that method.  Alternatively, the
      connector server can be registered as an MBean in that MBean
      server.</p>

    <p>An RMI connector server can also be created by constructing an
      instance of <a href="RMIConnectorServer.html" title="class in javax.management.remote.rmi"><code>RMIConnectorServer</code></a>, explicitly or through the MBean server's
      <code>createMBean</code> method.</p>

    <h3>Choosing the RMI transport</h3>

    <p>You can choose the RMI transport by specifying
      <code>rmi</code> in the <code><em>protocol</em></code> part of the
      <code>serviceURL</code> when creating the connector server.  You
      can also create specialized connector servers by instantiating
      an appropriate subclass of <a href="RMIServerImpl.html" title="class in javax.management.remote.rmi"><code>RMIServerImpl</code></a> and
      supplying it to the <code>RMIConnectorServer</code>
      constructor.</p>


    <h3><a id="servergen">Connector addresses generated by the
        server</a></h3>

    <p>If the <code>serviceURL</code> you specify has an empty URL
      path (after the optional host and port), or if you do not
      specify a <code>serviceURL</code>, then the connector server
      will fabricate a new <code>JMXServiceURL</code> that clients can
      use to connect:</p>

    <ul>

      <li><p>If the <code>serviceURL</code> looks like:</p>

        <pre>
        <code>service:jmx:rmi://<em>host</em>:<em>port</em></code>
        </pre>

        <p>then the connector server will generate an <a href="RMIJRMPServerImpl.html" title="class in javax.management.remote.rmi"><code>RMIJRMPServerImpl</code></a> and the returned <code>JMXServiceURL</code>
        looks like:</p>

        <pre>
        <code>service:jmx:rmi://<em>host</em>:<em>port</em>/stub/<em>XXXX</em></code>
        </pre>

        <p>where <code><em>XXXX</em></code> is the serialized form of the
        stub for the generated object, encoded in BASE64 without
        newlines.</p>

      <li><p>If there is no <code>serviceURL</code>, there must be a
        user-provided <code>RMIServerImpl</code>.  The connector server
        will generate a <code>JMXServiceURL</code> using the <code>rmi</code>
        form.</p>

    </ul>

    <p>The <code><em>host</em></code> in a user-provided
      <code>serviceURL</code> is optional.  If present, it is copied
      into the generated <code>JMXServiceURL</code> but otherwise
      ignored.  If absent, the generated <code>JXMServiceURL</code>
      will have the local host name.</p>

    <p>The <code><em>port</em></code> in a user-provided
      <code>serviceURL</code> is also optional.  If present, it is
      also copied into the generated <code>JMXServiceURL</code>;
      otherwise, the generated <code>JMXServiceURL</code> has no port.
      For an <code>serviceURL</code> using the <code>rmi</code>
      protocol, the <code><em>port</em></code>, if present, indicates
      what port the generated remote object should be exported on.  It
      has no other effect.</p>

    <p>If the user provides an <code>RMIServerImpl</code> rather than a
      <code>JMXServiceURL</code>, then the generated
      <code>JMXServiceURL</code> will have the local host name in its
      <code><em>host</em></code> part and no
      <code><em>port</em></code>.</p>


    <h3><a id="directory">Connector addresses based on directory
        entries</a></h3>

    <p>As an alternative to the generated addresses just described,
      the <code>serviceURL</code> address supplied when creating a
      connector server can specify a <em>directory address</em> in
      which to store the provided or generated <code>RMIServer</code>
      stub.  This directory address is then used by both client and
      server.</p>

    <p>In this case, the <code>serviceURL</code> has the following form:</p>

    <pre>
    <code>service:jmx:rmi://<em>host</em>:<em>port</em>/jndi/<em>jndi-name</em></code>
    </pre>

    <p>Here, <code><em>jndi-name</em></code> is a string that can be
      supplied to <a href="../../../../../java.naming/javax/naming/InitialContext.html#bind(java.lang.String,java.lang.Object)"><code>javax.naming.InitialContext.bind</code></a>.</p>

    <p>As usual, the <code><em>host</em></code> and
      <code>:<em>port</em></code> can be omitted.</p>

    <p>The connector server will generate an
      <code>RMIServerImpl</code> based on the protocol
      (<code>rmi</code>) and the <code><em>port</em></code> if any.  When
      the connector server is started, it will derive a stub from this
      object using its <a href="RMIServerImpl.html#toStub()"><code>toStub</code></a> method
      and store the object using the given
      <code><em>jndi-name</em></code>.  The properties defined by the
      JNDI API are consulted as usual.</p>

    <p>For example, if the <code>JMXServiceURL</code> is:

      <pre>
      <code>service:jmx:rmi://ignoredhost/jndi/rmi://myhost/myname</code>
      </pre>

      then the connector server will generate an
      <code>RMIJRMPServerImpl</code> and store its stub using the JNDI
      name

      <pre>
      <code>rmi://myhost/myname</code>
      </pre>

      which means entry <code>myname</code> in the RMI registry
      running on the default port of host <code>myhost</code>.  Note
      that the RMI registry only allows registration from the local
      host.  So, in this case, <code>myhost</code> must be the name
      (or a name) of the host that the connector server is running
      on.

    <p>In this <code>JMXServiceURL</code>, the first <code>rmi:</code>
      specifies the RMI
      connector, while the second <code>rmi:</code> specifies the RMI
      registry.

    <p>As another example, if the <code>JMXServiceURL</code> is:

      <pre>
      <code>service:jmx:rmi://ignoredhost/jndi/ldap://dirhost:9999/cn=this,ou=that</code>
      </pre>

      then the connector server will generate an
      <code>RMIJRMPServerImpl</code> and store its stub using the JNDI
      name

      <pre>
      <code>ldap://dirhost:9999/cn=this,ou=that</code>
      </pre>

      which means entry <code>cn=this,ou=that</code> in the LDAP
      directory running on port 9999 of host <code>dirhost</code>.

    <p>If the <code>JMXServiceURL</code> is:

      <pre>
      <code>service:jmx:rmi://ignoredhost/jndi/cn=this,ou=that</code>
      </pre>

      then the connector server will generate an
      <code>RMIJRMPServerImpl</code> and store its stub using the JNDI
      name

      <pre>
      <code>cn=this,ou=that</code>
      </pre>

      For this case to work, the JNDI API must have been configured
      appropriately to supply the information about what directory to
      use.

    <p>In these examples, the host name <code>ignoredhost</code> is
      not used by the connector server or its clients.  It can be
      omitted, for example:</p>

      <pre>
      <code>service:jmx:rmi:///jndi/cn=this,ou=that</code>
      </pre>

    <p>However, it is good practice to use the name of the host
      where the connector server is running.  This is often different
      from the name of the directory host.</p>


    <h3>Connector server attributes</h3>

    <p>When using the default JRMP transport, RMI socket factories can
      be specified using the attributes
      <code>jmx.remote.rmi.client.socket.factory</code> and
      <code>jmx.remote.rmi.server.socket.factory</code> in the
      <code>environment</code> given to the
      <code>RMIConnectorServer</code> constructor.  The values of these
      attributes must be of type <a href="../../../../../java.rmi/java/rmi/server/RMIClientSocketFactory.html" title="interface in java.rmi.server"><code>RMIClientSocketFactory</code></a> and <a href="../../../../../java.rmi/java/rmi/server/RMIServerSocketFactory.html" title="interface in java.rmi.server"><code>RMIServerSocketFactory</code></a>, respectively.  These
      factories are used when creating the RMI objects associated with
      the connector.</p>

    <h2>Creating an RMI connector client</h2>

    <p>An RMI connector client is usually constructed using <a href="../../../../../java.management/javax/management/remote/JMXConnectorFactory.html" title="class in javax.management.remote"><code>JMXConnectorFactory</code></a>, with a
      <code>JMXServiceURL</code> that has <code>rmi</code> as its protocol.</p>

    <p>If the <code>JMXServiceURL</code> was generated by the server,
      as described above under <a href="#servergen">"connector
      addresses generated by the server"</a>, then the client will
      need to obtain it directly or indirectly from the server.
      Typically, the server makes the <code>JMXServiceURL</code>
      available by storing it in a file or a lookup service.</p>

    <p>If the <code>JMXServiceURL</code> uses the directory syntax, as
      described above under <a href="#directory">"connector addresses
      based on directory entries"</a>, then the client may obtain it
      as just explained, or client and server may both know the
      appropriate directory entry to use.  For example, if the
      connector server for the Whatsit agent uses the entry
      <code>whatsit-agent-connector</code> in the RMI registry on host
      <code>myhost</code>, then client and server can both know
      that the appropriate <code>JMXServiceURL</code> is:</p>

    <pre>
    <code>service:jmx:rmi:///jndi/rmi://myhost/whatsit-agent-connector</code>
    </pre>

    <p>If you have an RMI stub of type <a href="RMIServer.html" title="interface in javax.management.remote.rmi"><code>RMIServer</code></a>, you can
      construct an RMI connection directly by using the appropriate
      constructor of <a href="RMIConnector.html" title="class in javax.management.remote.rmi"><code>RMIConnector</code></a>.</p>

    <h2>Dynamic code downloading</h2>

    <p>If an RMI connector client or server receives from its peer an
      instance of a class that it does not know, and if dynamic code
      downloading is active for the RMI connection, then the class can
      be downloaded from a codebase specified by the peer.
      <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase17&amp;id=rmi_guide">Java RMI Guide</a> explains this in more detail.</p></div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.5</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="http://www.ietf.org/rfc/rfc2045.txt">RFC 2045,
    section 6.8, "Base64 Content-Transfer-Encoding"</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Module</div>
<div class="table-header col-second">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-plain even-row-color"><a href="../../../../../java.management/module-summary.html">java.management</a></div>
<div class="col-first even-row-color"><a href="../../../../../java.management/javax/management/remote/package-summary.html">javax.management.remote</a></div>
<div class="col-last even-row-color">
<div class="block">Interfaces for remote access to
        JMX MBean servers.</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab1" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab1', 2)" class="table-tab">Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button></div>
<div id="class-summary.tabpanel" role="tabpanel">
<div class="summary-table two-column-summary" aria-labelledby="class-summary-tab0">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="RMIConnection.html" title="interface in javax.management.remote.rmi">RMIConnection</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">RMI object used to forward an MBeanServer request from a client
 to its MBeanServer implementation on the server side.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="RMIConnectionImpl.html" title="class in javax.management.remote.rmi">RMIConnectionImpl</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Implementation of the <a href="RMIConnection.html" title="interface in javax.management.remote.rmi"><code>RMIConnection</code></a> interface.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="RMIConnectionImpl_Stub.html" title="class in javax.management.remote.rmi">RMIConnectionImpl_Stub</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">RMIConnectionImpl remote stub.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="RMIConnector.html" title="class in javax.management.remote.rmi">RMIConnector</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A connection to a remote RMI connector.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="RMIConnectorServer.html" title="class in javax.management.remote.rmi">RMIConnectorServer</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A JMX API connector server that creates RMI-based connections
 from remote clients.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="RMIIIOPServerImpl.html" title="class in javax.management.remote.rmi">RMIIIOPServerImpl</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">Deprecated.
<div class="deprecation-comment">This transport is no longer supported.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="RMIJRMPServerImpl.html" title="class in javax.management.remote.rmi">RMIJRMPServerImpl</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">An <a href="RMIServer.html" title="interface in javax.management.remote.rmi"><code>RMIServer</code></a> object that is exported through JRMP and that
 creates client connections as RMI objects exported through JRMP.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="RMIServer.html" title="interface in javax.management.remote.rmi">RMIServer</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">RMI object used to establish connections to an RMI connector.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="RMIServerImpl.html" title="class in javax.management.remote.rmi">RMIServerImpl</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">An RMI object representing a connector server.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="RMIServerImpl_Stub.html" title="class in javax.management.remote.rmi">RMIServerImpl_Stub</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">RMIServerImpl remote stub.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase17&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2023, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java17speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <br><strong>DRAFT 17-crac+6-21</strong> <!-- Version 17-crac+6-21 --></small></p>
</footer>
</div>
</div>
</body>
</html>
